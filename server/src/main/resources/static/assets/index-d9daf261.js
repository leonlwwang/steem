(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&l(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function P(){}function ce(e){return e()}function Y(){return Object.create(null)}function T(e){e.forEach(ce)}function ae(e){return typeof e=="function"}function V(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}let B;function Z(e,t){return B||(B=document.createElement("a")),B.href=t,e===B.href}function he(e){return Object.keys(e).length===0}function c(e,t){e.appendChild(t)}function O(e,t,n){e.insertBefore(t,n||null)}function N(e){e.parentNode&&e.parentNode.removeChild(e)}function fe(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function S(e){return document.createTextNode(e)}function C(){return S(" ")}function de(){return S("")}function A(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function d(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function _e(e){return Array.from(e.childNodes)}function I(e,t){t=""+t,e.data!==t&&(e.data=t)}function D(e,t){e.value=t??""}function F(e,t,n,l){n===null?e.style.removeProperty(t):e.style.setProperty(t,n,l?"important":"")}function ge(e,t,{bubbles:n=!1,cancelable:l=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,l,t),r}let M;function U(e){M=e}function me(){if(!M)throw new Error("Function called outside component initialization");return M}function be(e){me().$$.on_mount.push(e)}function ye(){const e=me();return(t,n,{cancelable:l=!1}={})=>{const r=e.$$.callbacks[t];if(r){const i=ge(t,n,{cancelable:l});return r.slice().forEach(o=>{o.call(e,i)}),!i.defaultPrevented}return!0}}const j=[],ee=[];let L=[];const te=[],$e=Promise.resolve();let H=!1;function ve(){H||(H=!0,$e.then(pe))}function J(e){L.push(e)}const z=new Set;let q=0;function pe(){if(q!==0)return;const e=M;do{try{for(;q<j.length;){const t=j[q];q++,U(t),we(t.$$)}}catch(t){throw j.length=0,q=0,t}for(U(null),j.length=0,q=0;ee.length;)ee.pop()();for(let t=0;t<L.length;t+=1){const n=L[t];z.has(n)||(z.add(n),n())}L.length=0}while(j.length);for(;te.length;)te.pop()();H=!1,z.clear(),U(e)}function we(e){if(e.fragment!==null){e.update(),T(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(J)}}function Ee(e){const t=[],n=[];L.forEach(l=>e.indexOf(l)===-1?t.push(l):n.push(l)),n.forEach(l=>l()),L=t}const x=new Set;let ke;function K(e,t){e&&e.i&&(x.delete(e),e.i(t))}function ne(e,t,n,l){if(e&&e.o){if(x.has(e))return;x.add(e),ke.c.push(()=>{x.delete(e),l&&(n&&e.d(1),l())}),e.o(t)}else l&&l()}function re(e){e&&e.c()}function R(e,t,n,l){const{fragment:r,after_update:i}=e.$$;r&&r.m(t,n),l||J(()=>{const o=e.$$.on_mount.map(ce).filter(ae);e.$$.on_destroy?e.$$.on_destroy.push(...o):T(o),e.$$.on_mount=[]}),i.forEach(J)}function G(e,t){const n=e.$$;n.fragment!==null&&(Ee(n.after_update),T(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ce(e,t){e.$$.dirty[0]===-1&&(j.push(e),ve(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function W(e,t,n,l,r,i,o,p=[-1]){const u=M;U(e);const s=e.$$={fragment:null,ctx:[],props:i,update:P,not_equal:r,bound:Y(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(u?u.$$.context:[])),callbacks:Y(),dirty:p,skip_bound:!1,root:t.target||u.$$.root};o&&o(s.root);let f=!1;if(s.ctx=n?n(e,t.props||{},(a,g,...h)=>{const $=h.length?h[0]:g;return s.ctx&&r(s.ctx[a],s.ctx[a]=$)&&(!s.skip_bound&&s.bound[a]&&s.bound[a]($),f&&Ce(e,a)),g}):[],s.update(),f=!0,T(s.before_update),s.fragment=l?l(s.ctx):!1,t.target){if(t.hydrate){const a=_e(t.target);s.fragment&&s.fragment.l(a),a.forEach(N)}else s.fragment&&s.fragment.c();t.intro&&K(e.$$.fragment),R(e,t.target,t.anchor,t.customElement),pe()}U(u)}class X{$destroy(){G(this,1),this.$destroy=P}$on(t,n){if(!ae(n))return P;const l=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(t){this.$$set&&!he(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function le(e,t,n){const l=e.slice();return l[6]=t[n],l}function oe(e){let t,n=e[1],l=[];for(let r=0;r<n.length;r+=1)l[r]=ie(le(e,n,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();t=de()},m(r,i){for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(r,i);O(r,t,i)},p(r,i){if(i&2){n=r[1];let o;for(o=0;o<n.length;o+=1){const p=le(r,n,o);l[o]?l[o].p(p,i):(l[o]=ie(p),l[o].c(),l[o].m(t.parentNode,t))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(r){fe(l,r),r&&N(t)}}}function ie(e){let t,n,l;return{c(){t=m("img"),Z(t.src,n=e[6].image)||d(t,"src",n),d(t,"alt",l=e[6].gameName)},m(r,i){O(r,t,i)},p(r,i){i&2&&!Z(t.src,n=r[6].image)&&d(t,"src",n),i&2&&l!==(l=r[6].gameName)&&d(t,"alt",l)},d(r){r&&N(t)}}}function Ne(e){let t,n,l,r,i,o,p,u,s,f,a,g,h,$,v,y,w,_=e[1].length>0&&oe(e);return{c(){t=m("div"),n=m("form"),l=m("div"),r=m("label"),r.textContent="ðŸ”Ž",i=C(),o=m("input"),p=C(),u=m("div"),s=m("button"),s.textContent="Submit",f=C(),a=m("button"),a.textContent="Query 1",g=C(),h=m("button"),h.textContent="Query 2",$=C(),_&&_.c(),v=de(),d(r,"for","search"),d(o,"type","text"),d(o,"class","form-control col-lg-9"),d(o,"id","search"),d(o,"name","search"),d(o,"placeholder"," search for games..."),o.required=!0,d(l,"class","searchform"),d(s,"type","submit"),d(s,"class","btn btn-primary"),F(s,"margin-right","1rem"),d(a,"id","btnq1"),d(a,"class","btn btn-primary"),F(a,"margin-right","0.5rem"),d(h,"id","btnq2"),d(h,"class","btn btn-primary"),F(h,"margin-left","0.5rem"),F(u,"display","flex"),d(t,"class","btn-container")},m(b,E){O(b,t,E),c(t,n),c(n,l),c(l,r),c(l,i),c(l,o),D(o,e[0]),c(n,p),c(n,u),c(u,s),c(u,f),c(u,a),c(u,g),c(u,h),O(b,$,E),_&&_.m(b,E),O(b,v,E),y||(w=[A(o,"input",e[5]),A(a,"click",e[3]),A(h,"click",e[4]),A(n,"submit",e[2])],y=!0)},p(b,[E]){E&1&&o.value!==b[0]&&D(o,b[0]),b[1].length>0?_?_.p(b,E):(_=oe(b),_.c(),_.m(v.parentNode,v)):_&&(_.d(1),_=null)},i:P,o:P,d(b){b&&N(t),b&&N($),_&&_.d(b),b&&N(v),y=!1,T(w)}}}function Se(e,t,n){let l="",r=[];async function i(s){s.preventDefault();const f=new FormData;f.append("search",l);const a=await fetch("/api/games/search",{method:"POST",body:f});n(1,r=await a.json()),console.log(r)}async function o(s){s.preventDefault();const f=new FormData;f.append("search",l);const a=await fetch("/api/games/query1",{method:"POST",body:f});n(1,r=await a.json()),console.log(r)}async function p(s){s.preventDefault();const f=new FormData;f.append("search",l);const a=await fetch("/api/games/query2",{method:"POST",body:f});n(1,r=await a.json()),console.log(r)}function u(){l=this.value,n(0,l)}return[l,r,i,o,p,u]}class Oe extends X{constructor(t){super(),W(this,t,Se,Ne,V,{})}}function Ae(e){let t,n,l,r,i,o,p,u,s,f,a,g,h,$,v,y;return{c(){t=m("form"),n=m("label"),l=S(`username:
      `),r=m("input"),i=C(),o=m("label"),p=S(`name:
      `),u=m("input"),s=C(),f=m("label"),a=S(`email:
      `),g=m("input"),h=C(),$=m("button"),$.textContent="Sign Up",d(r,"type","text"),r.required=!0,d(n,"class","svelte-mnmifp"),d(u,"type","text"),u.required=!0,d(o,"class","svelte-mnmifp"),d(g,"type","email"),g.required=!0,d(f,"class","svelte-mnmifp"),d($,"type","submit"),d($,"class","svelte-mnmifp"),d(t,"class","svelte-mnmifp")},m(w,_){O(w,t,_),c(t,n),c(n,l),c(n,r),D(r,e[0]),c(t,i),c(t,o),c(o,p),c(o,u),D(u,e[1]),c(t,s),c(t,f),c(f,a),c(f,g),D(g,e[2]),c(t,h),c(t,$),v||(y=[A(r,"input",e[4]),A(u,"input",e[5]),A(g,"input",e[6]),A(t,"submit",e[3])],v=!0)},p(w,[_]){_&1&&r.value!==w[0]&&D(r,w[0]),_&2&&u.value!==w[1]&&D(u,w[1]),_&4&&g.value!==w[2]&&D(g,w[2])},i:P,o:P,d(w){w&&N(t),v=!1,T(y)}}}function De(e,t,n){const l=ye();let r="",i="",o="";function p(a){a.preventDefault(),l("submit",{username:r,realName:i,emailAddress:o})}function u(){r=this.value,n(0,r)}function s(){i=this.value,n(1,i)}function f(){o=this.value,n(2,o)}return[r,i,o,p,u,s,f]}class Pe extends X{constructor(t){super(),W(this,t,De,Ae,V,{})}}function se(e,t,n){const l=e.slice();return l[5]=t[n],l}function qe(e){let t;return{c(){t=m("p"),t.textContent="No users found ðŸ˜¢",F(t,"color","darkgray")},m(n,l){O(n,t,l)},p:P,d(n){n&&N(t)}}}function je(e){let t,n=e[0],l=[];for(let r=0;r<n.length;r+=1)l[r]=ue(se(e,n,r));return{c(){t=m("ul");for(let r=0;r<l.length;r+=1)l[r].c()},m(r,i){O(r,t,i);for(let o=0;o<l.length;o+=1)l[o]&&l[o].m(t,null)},p(r,i){if(i&5){n=r[0];let o;for(o=0;o<n.length;o+=1){const p=se(r,n,o);l[o]?l[o].p(p,i):(l[o]=ue(p),l[o].c(),l[o].m(t,null))}for(;o<l.length;o+=1)l[o].d(1);l.length=n.length}},d(r){r&&N(t),fe(l,r)}}}function ue(e){let t,n=e[5].username+"",l,r,i=e[5].realName+"",o,p,u=e[5].emailAddress+"",s,f,a,g,h;function $(){return e[3](e[5])}return{c(){t=m("li"),l=S(n),r=C(),o=S(i),p=S(" ("),s=S(u),f=S(") "),a=m("button"),a.textContent="â›”"},m(v,y){O(v,t,y),c(t,l),c(t,r),c(t,o),c(t,p),c(t,s),c(t,f),c(t,a),g||(h=A(a,"click",$),g=!0)},p(v,y){e=v,y&1&&n!==(n=e[5].username+"")&&I(l,n),y&1&&i!==(i=e[5].realName+"")&&I(o,i),y&1&&u!==(u=e[5].emailAddress+"")&&I(s,u)},d(v){v&&N(t),g=!1,h()}}}function Le(e){let t,n,l,r,i,o,p,u,s,f,a,g,h,$,v,y,w;p=new Pe({}),p.$on("submit",e[1]);function _(k,Q){return k[0].length>0?je:qe}let b=_(e),E=b(e);return y=new Oe({}),{c(){t=m("main"),n=m("div"),n.innerHTML=`<h1>STEEM</h1> 
    <a href="/"><img style="display: inline-block;" id="logo" src="/logo.png" alt="bad-logo"/></a>`,l=C(),r=m("div"),i=m("h2"),i.textContent="Registration",o=C(),re(p.$$.fragment),u=C(),s=m("div"),f=m("h2"),f.textContent="Users",a=C(),E.c(),g=C(),h=m("div"),$=m("h2"),$.textContent="Search",v=C(),re(y.$$.fragment),d(n,"class","top-bar"),d(r,"class","card"),d(s,"class","card"),d(h,"class","card")},m(k,Q){O(k,t,Q),c(t,n),c(t,l),c(t,r),c(r,i),c(r,o),R(p,r,null),c(t,u),c(t,s),c(s,f),c(s,a),E.m(s,null),c(t,g),c(t,h),c(h,$),c(h,v),R(y,h,null),w=!0},p(k,[Q]){b===(b=_(k))&&E?E.p(k,Q):(E.d(1),E=b(k),E&&(E.c(),E.m(s,null)))},i(k){w||(K(p.$$.fragment,k),K(y.$$.fragment,k),w=!0)},o(k){ne(p.$$.fragment,k),ne(y.$$.fragment,k),w=!1},d(k){k&&N(t),G(p),E.d(),G(y)}}}function Te(e,t,n){let l=[];be(async()=>{const u=await fetch("/api/users");n(0,l=await u.json())});function r(u){fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u.detail)}).then(s=>s.text()).then(s=>{console.log(s),o()}).catch(s=>console.error(s))}function i(u){confirm("Are you sure you want to delete this user?")&&fetch("/api/users/"+u,{method:"DELETE"}).then(s=>{s.ok?n(0,l=l.filter(f=>f.username!==u)):console.error("Failed to delete user")}).catch(s=>console.error(s))}function o(){fetch("/api/users").then(u=>u.json()).then(u=>{n(0,l=u)}).catch(u=>console.error(u))}return o(),[l,r,i,u=>i(u.username)]}class Fe extends X{constructor(t){super(),W(this,t,Te,Le,V,{})}}new Fe({target:document.getElementById("app")});

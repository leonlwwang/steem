(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(r){if(r.ep)return;r.ep=!0;const i=n(r);fetch(r.href,i)}})();function D(){}function ce(t){return t()}function Y(){return Object.create(null)}function U(t){t.forEach(ce)}function ue(t){return typeof t=="function"}function V(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let Q;function Z(t,e){return Q||(Q=document.createElement("a")),Q.href=e,t===Q.href}function he(t){return Object.keys(t).length===0}function u(t,e){t.appendChild(e)}function O(t,e,n){t.insertBefore(e,n||null)}function C(t){t.parentNode&&t.parentNode.removeChild(t)}function ae(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function q(t){return document.createTextNode(t)}function $(){return q(" ")}function fe(){return q("")}function A(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function p(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function pe(t){return Array.from(t.childNodes)}function H(t,e){e=""+e,t.data!==e&&(t.data=e)}function P(t,e){t.value=e??""}function T(t,e,n,l){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function _e(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const r=document.createEvent("CustomEvent");return r.initCustomEvent(t,n,l,e),r}let x;function M(t){x=t}function de(){if(!x)throw new Error("Function called outside component initialization");return x}function ge(t){de().$$.on_mount.push(t)}function ye(){const t=de();return(e,n,{cancelable:l=!1}={})=>{const r=t.$$.callbacks[e];if(r){const i=_e(e,n,{cancelable:l});return r.slice().forEach(s=>{s.call(t,i)}),!i.defaultPrevented}return!0}}const L=[],ee=[];let F=[];const te=[],be=Promise.resolve();let z=!1;function ve(){z||(z=!0,be.then(me))}function J(t){F.push(t)}const I=new Set;let j=0;function me(){if(j!==0)return;const t=x;do{try{for(;j<L.length;){const e=L[j];j++,M(e),$e(e.$$)}}catch(e){throw L.length=0,j=0,e}for(M(null),L.length=0,j=0;ee.length;)ee.pop()();for(let e=0;e<F.length;e+=1){const n=F[e];I.has(n)||(I.add(n),n())}F.length=0}while(L.length);for(;te.length;)te.pop()();z=!1,I.clear(),M(t)}function $e(t){if(t.fragment!==null){t.update(),U(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(J)}}function we(t){const e=[],n=[];F.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),F=e}const B=new Set;let Ee;function K(t,e){t&&t.i&&(B.delete(t),t.i(e))}function ne(t,e,n,l){if(t&&t.o){if(B.has(t))return;B.add(t),Ee.c.push(()=>{B.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function re(t){t&&t.c()}function R(t,e,n,l){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),l||J(()=>{const s=t.$$.on_mount.map(ce).filter(ue);t.$$.on_destroy?t.$$.on_destroy.push(...s):U(s),t.$$.on_mount=[]}),i.forEach(J)}function G(t,e){const n=t.$$;n.fragment!==null&&(we(n.after_update),U(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function ke(t,e){t.$$.dirty[0]===-1&&(L.push(t),ve(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function W(t,e,n,l,r,i,s,a=[-1]){const c=x;M(t);const o=t.$$={fragment:null,ctx:[],props:i,update:D,not_equal:r,bound:Y(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:Y(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};s&&s(o.root);let m=!1;if(o.ctx=n?n(t,e.props||{},(h,y,...g)=>{const v=g.length?g[0]:y;return o.ctx&&r(o.ctx[h],o.ctx[h]=v)&&(!o.skip_bound&&o.bound[h]&&o.bound[h](v),m&&ke(t,h)),y}):[],o.update(),m=!0,U(o.before_update),o.fragment=l?l(o.ctx):!1,e.target){if(e.hydrate){const h=pe(e.target);o.fragment&&o.fragment.l(h),h.forEach(C)}else o.fragment&&o.fragment.c();e.intro&&K(t.$$.fragment),R(t,e.target,e.anchor,e.customElement),me()}M(c)}class X{$destroy(){G(this,1),this.$destroy=D}$on(e,n){if(!ue(n))return D;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const r=l.indexOf(n);r!==-1&&l.splice(r,1)}}$set(e){this.$$set&&!he(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function le(t,e,n){const l=t.slice();return l[6]=e[n],l}function Ne(t){let e;return{c(){e=d("p"),e.textContent="No results found.",T(e,"color","darkgray")},m(n,l){O(n,e,l)},p:D,d(n){n&&C(e)}}}function Ce(t){let e,n=t[1],l=[];for(let r=0;r<n.length;r+=1)l[r]=se(le(t,n,r));return{c(){for(let r=0;r<l.length;r+=1)l[r].c();e=fe()},m(r,i){for(let s=0;s<l.length;s+=1)l[s]&&l[s].m(r,i);O(r,e,i)},p(r,i){if(i&2){n=r[1];let s;for(s=0;s<n.length;s+=1){const a=le(r,n,s);l[s]?l[s].p(a,i):(l[s]=se(a),l[s].c(),l[s].m(e.parentNode,e))}for(;s<l.length;s+=1)l[s].d(1);l.length=n.length}},d(r){ae(l,r),r&&C(e)}}}function se(t){let e,n,l;return{c(){e=d("img"),Z(e.src,n=t[6].image)||p(e,"src",n),p(e,"alt",l=t[6].gameName)},m(r,i){O(r,e,i)},p(r,i){i&2&&!Z(e.src,n=r[6].image)&&p(e,"src",n),i&2&&l!==(l=r[6].gameName)&&p(e,"alt",l)},d(r){r&&C(e)}}}function Se(t){let e,n,l,r,i,s,a,c,o,m,h,y,g,v,w,E,b;function k(f,N){return f[1].length>0?Ce:Ne}let S=k(t),_=S(t);return{c(){e=d("div"),n=d("form"),l=d("div"),r=d("label"),r.textContent="🔎",i=$(),s=d("input"),a=$(),c=d("div"),o=d("button"),o.textContent="Submit",m=$(),h=d("button"),h.textContent="Query 1",y=$(),g=d("button"),g.textContent="Query 2",v=$(),_.c(),w=fe(),p(r,"for","search"),p(s,"type","text"),p(s,"class","form-control col-lg-9"),p(s,"id","search"),p(s,"name","search"),p(s,"placeholder"," search for games..."),s.required=!0,p(l,"class","searchform"),p(o,"type","submit"),p(o,"class","btn btn-primary"),T(o,"margin-right","1rem"),p(h,"id","btnq1"),p(h,"class","btn btn-primary"),T(h,"margin-right","0.5rem"),p(g,"id","btnq2"),p(g,"class","btn btn-primary"),T(g,"margin-left","0.5rem"),T(c,"display","flex"),p(e,"class","btn-container")},m(f,N){O(f,e,N),u(e,n),u(n,l),u(l,r),u(l,i),u(l,s),P(s,t[0]),u(n,a),u(n,c),u(c,o),u(c,m),u(c,h),u(c,y),u(c,g),O(f,v,N),_.m(f,N),O(f,w,N),E||(b=[A(s,"input",t[5]),A(h,"click",t[3]),A(g,"click",t[4]),A(n,"submit",t[2])],E=!0)},p(f,[N]){N&1&&s.value!==f[0]&&P(s,f[0]),S===(S=k(f))&&_?_.p(f,N):(_.d(1),_=S(f),_&&(_.c(),_.m(w.parentNode,w)))},i:D,o:D,d(f){f&&C(e),f&&C(v),_.d(f),f&&C(w),E=!1,U(b)}}}function Oe(t,e,n){let l="",r=[];async function i(o){o.preventDefault();const m=new FormData;m.append("search",l);const h=await fetch("/api/games/search",{method:"POST",body:m});n(1,r=await h.json()),console.log(r)}async function s(o){o.preventDefault();const m=new FormData;m.append("search",l);const h=await fetch("/api/games/query1",{method:"POST",body:m});n(1,r=await h.json()),console.log(r)}async function a(o){o.preventDefault();const m=new FormData;m.append("search",l);const h=await fetch("/api/games/query2",{method:"POST",body:m});n(1,r=await h.json()),console.log(r)}function c(){l=this.value,n(0,l)}return[l,r,i,s,a,c]}class Ae extends X{constructor(e){super(),W(this,e,Oe,Se,V,{})}}function De(t){let e,n,l,r,i,s,a,c,o,m,h,y,g,v,w,E;return{c(){e=d("form"),n=d("label"),l=q(`username:
      `),r=d("input"),i=$(),s=d("label"),a=q(`name:
      `),c=d("input"),o=$(),m=d("label"),h=q(`email:
      `),y=d("input"),g=$(),v=d("button"),v.textContent="Sign Up",p(r,"type","text"),r.required=!0,p(n,"class","svelte-mnmifp"),p(c,"type","text"),c.required=!0,p(s,"class","svelte-mnmifp"),p(y,"type","email"),y.required=!0,p(m,"class","svelte-mnmifp"),p(v,"type","submit"),p(v,"class","svelte-mnmifp"),p(e,"class","svelte-mnmifp")},m(b,k){O(b,e,k),u(e,n),u(n,l),u(n,r),P(r,t[0]),u(e,i),u(e,s),u(s,a),u(s,c),P(c,t[1]),u(e,o),u(e,m),u(m,h),u(m,y),P(y,t[2]),u(e,g),u(e,v),w||(E=[A(r,"input",t[4]),A(c,"input",t[5]),A(y,"input",t[6]),A(e,"submit",t[3])],w=!0)},p(b,[k]){k&1&&r.value!==b[0]&&P(r,b[0]),k&2&&c.value!==b[1]&&P(c,b[1]),k&4&&y.value!==b[2]&&P(y,b[2])},i:D,o:D,d(b){b&&C(e),w=!1,U(E)}}}function Pe(t,e,n){const l=ye();let r="",i="",s="";function a(h){h.preventDefault(),l("submit",{username:r,realName:i,emailAddress:s})}function c(){r=this.value,n(0,r)}function o(){i=this.value,n(1,i)}function m(){s=this.value,n(2,s)}return[r,i,s,a,c,o,m]}class qe extends X{constructor(e){super(),W(this,e,Pe,De,V,{})}}function oe(t,e,n){const l=t.slice();return l[5]=e[n],l}function je(t){let e;return{c(){e=d("p"),e.textContent="No users found 😢",T(e,"color","darkgray")},m(n,l){O(n,e,l)},p:D,d(n){n&&C(e)}}}function Le(t){let e,n,l,r,i=t[0],s=[];for(let a=0;a<i.length;a+=1)s[a]=ie(oe(t,i,a));return{c(){e=d("table"),n=d("thead"),n.innerHTML=`<tr><th class="element svelte-y8491c">Username</th> 
            <th class="element svelte-y8491c">Name</th> 
            <th class="element svelte-y8491c">Email</th> 
            <th></th></tr>`,l=$(),r=d("tbody");for(let a=0;a<s.length;a+=1)s[a].c();p(e,"class","svelte-y8491c")},m(a,c){O(a,e,c),u(e,n),u(e,l),u(e,r);for(let o=0;o<s.length;o+=1)s[o]&&s[o].m(r,null)},p(a,c){if(c&5){i=a[0];let o;for(o=0;o<i.length;o+=1){const m=oe(a,i,o);s[o]?s[o].p(m,c):(s[o]=ie(m),s[o].c(),s[o].m(r,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=i.length}},d(a){a&&C(e),ae(s,a)}}}function ie(t){let e,n,l=t[5].username+"",r,i,s,a=t[5].realName+"",c,o,m,h=t[5].emailAddress+"",y,g,v,w,E,b,k;function S(){return t[3](t[5])}return{c(){e=d("tr"),n=d("td"),r=q(l),i=$(),s=d("td"),c=q(a),o=$(),m=d("td"),y=q(h),g=$(),v=d("td"),w=d("button"),w.textContent="❌",E=$(),p(n,"class","element svelte-y8491c"),p(s,"class","element svelte-y8491c"),p(m,"class","element svelte-y8491c")},m(_,f){O(_,e,f),u(e,n),u(n,r),u(e,i),u(e,s),u(s,c),u(e,o),u(e,m),u(m,y),u(e,g),u(e,v),u(v,w),u(e,E),b||(k=A(w,"click",S),b=!0)},p(_,f){t=_,f&1&&l!==(l=t[5].username+"")&&H(r,l),f&1&&a!==(a=t[5].realName+"")&&H(c,a),f&1&&h!==(h=t[5].emailAddress+"")&&H(y,h)},d(_){_&&C(e),b=!1,k()}}}function Te(t){let e,n,l,r,i,s,a,c,o,m,h,y,g,v,w,E,b;a=new qe({}),a.$on("submit",t[1]);function k(f,N){return f[0].length>0?Le:je}let S=k(t),_=S(t);return E=new Ae({}),{c(){e=d("main"),n=d("div"),n.innerHTML=`<h1>STEEM</h1> 
    <a href="/"><img style="display: inline-block;" id="logo" src="/logo.png" alt="bad-logo"/></a>`,l=$(),r=d("div"),i=d("h2"),i.textContent="Registration",s=$(),re(a.$$.fragment),c=$(),o=d("div"),m=d("h2"),m.textContent="Users",h=$(),_.c(),y=$(),g=d("div"),v=d("h2"),v.textContent="Search",w=$(),re(E.$$.fragment),p(n,"class","top-bar"),p(r,"class","card"),p(o,"class","card"),p(g,"class","card")},m(f,N){O(f,e,N),u(e,n),u(e,l),u(e,r),u(r,i),u(r,s),R(a,r,null),u(e,c),u(e,o),u(o,m),u(o,h),_.m(o,null),u(e,y),u(e,g),u(g,v),u(g,w),R(E,g,null),b=!0},p(f,[N]){S===(S=k(f))&&_?_.p(f,N):(_.d(1),_=S(f),_&&(_.c(),_.m(o,null)))},i(f){b||(K(a.$$.fragment,f),K(E.$$.fragment,f),b=!0)},o(f){ne(a.$$.fragment,f),ne(E.$$.fragment,f),b=!1},d(f){f&&C(e),G(a),_.d(),G(E)}}}function Fe(t,e,n){let l=[];ge(async()=>{const c=await fetch("/api/users");n(0,l=await c.json())});function r(c){fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c.detail)}).then(o=>o.text()).then(o=>{console.log(o),s()}).catch(o=>console.error(o))}function i(c){confirm("Are you sure you want to delete this user?")&&fetch("/api/users/"+c,{method:"DELETE"}).then(o=>{o.ok?n(0,l=l.filter(m=>m.username!==c)):console.error("Failed to delete user")}).catch(o=>console.error(o))}function s(){fetch("/api/users").then(c=>c.json()).then(c=>{n(0,l=c)}).catch(c=>console.error(c))}return s(),[l,r,i,c=>i(c.username)]}class Ue extends X{constructor(e){super(),W(this,e,Fe,Te,V,{})}}new Ue({target:document.getElementById("app")});

(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(l){if(l.ep)return;l.ep=!0;const o=n(l);fetch(l.href,o)}})();function S(){}function pe(t){return t()}function oe(){return Object.create(null)}function M(t){t.forEach(pe)}function he(t){return typeof t=="function"}function W(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let z;function ie(t,e){return z||(z=document.createElement("a")),z.href=e,t===z.href}function ye(t){return Object.keys(t).length===0}function c(t,e){t.appendChild(e)}function w(t,e,n){t.insertBefore(e,n||null)}function k(t){t.parentNode&&t.parentNode.removeChild(t)}function _e(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function d(t){return document.createElement(t)}function U(t){return document.createTextNode(t)}function $(){return U(" ")}function le(){return U("")}function D(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ve(t){return Array.from(t.childNodes)}function J(t,e){e=""+e,t.data!==e&&(t.data=e)}function T(t,e){t.value=e??""}function L(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function $e(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,r,e),l}let H;function B(t){H=t}function ge(){if(!H)throw new Error("Function called outside component initialization");return H}function ke(t){ge().$$.on_mount.push(t)}function we(){const t=ge();return(e,n,{cancelable:r=!1}={})=>{const l=t.$$.callbacks[e];if(l){const o=$e(e,n,{cancelable:r});return l.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}const j=[],ce=[];let x=[];const ue=[],Ee=Promise.resolve();let ne=!1;function Ce(){ne||(ne=!0,Ee.then(be))}function re(t){x.push(t)}const Z=new Set;let F=0;function be(){if(F!==0)return;const t=H;do{try{for(;F<j.length;){const e=j[F];F++,B(e),Ne(e.$$)}}catch(e){throw j.length=0,F=0,e}for(B(null),j.length=0,F=0;ce.length;)ce.pop()();for(let e=0;e<x.length;e+=1){const n=x[e];Z.has(n)||(Z.add(n),n())}x.length=0}while(j.length);for(;ue.length;)ue.pop()();ne=!1,Z.clear(),B(t)}function Ne(t){if(t.fragment!==null){t.update(),M(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(re)}}function qe(t){const e=[],n=[];x.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),x=e}const K=new Set;let Le;function R(t,e){t&&t.i&&(K.delete(t),t.i(e))}function ee(t,e,n,r){if(t&&t.o){if(K.has(t))return;K.add(t),Le.c.push(()=>{K.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function te(t){t&&t.c()}function G(t,e,n,r){const{fragment:l,after_update:o}=t.$$;l&&l.m(e,n),r||re(()=>{const s=t.$$.on_mount.map(pe).filter(he);t.$$.on_destroy?t.$$.on_destroy.push(...s):M(s),t.$$.on_mount=[]}),o.forEach(re)}function V(t,e){const n=t.$$;n.fragment!==null&&(qe(n.after_update),M(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Se(t,e){t.$$.dirty[0]===-1&&(j.push(t),Ce(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(t,e,n,r,l,o,s,a=[-1]){const u=H;B(t);const i=t.$$={fragment:null,ctx:[],props:o,update:S,not_equal:l,bound:oe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:oe(),dirty:a,skip_bound:!1,root:e.target||u.$$.root};s&&s(i.root);let f=!1;if(i.ctx=n?n(t,e.props||{},(_,v,...p)=>{const h=p.length?p[0]:v;return i.ctx&&l(i.ctx[_],i.ctx[_]=h)&&(!i.skip_bound&&i.bound[_]&&i.bound[_](h),f&&Se(t,_)),v}):[],i.update(),f=!0,M(i.before_update),i.fragment=r?r(i.ctx):!1,e.target){if(e.hydrate){const _=ve(e.target);i.fragment&&i.fragment.l(_),_.forEach(k)}else i.fragment&&i.fragment.c();e.intro&&R(t.$$.fragment),G(t,e.target,e.anchor,e.customElement),be()}B(u)}class Y{$destroy(){V(this,1),this.$destroy=S}$on(e,n){if(!he(n))return S;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!ye(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ae(t,e,n){const r=t.slice();return r[6]=e[n],r}function Oe(t){let e;return{c(){e=d("p"),e.textContent="No results found.",L(e,"color","darkgray")},m(n,r){w(n,e,r)},p:S,d(n){n&&k(e)}}}function Ae(t){let e,n=t[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=fe(ae(t,n,l));return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=le()},m(l,o){for(let s=0;s<r.length;s+=1)r[s]&&r[s].m(l,o);w(l,e,o)},p(l,o){if(o&2){n=l[1];let s;for(s=0;s<n.length;s+=1){const a=ae(l,n,s);r[s]?r[s].p(a,o):(r[s]=fe(a),r[s].c(),r[s].m(e.parentNode,e))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length}},d(l){_e(r,l),l&&k(e)}}}function fe(t){let e,n,r;return{c(){e=d("img"),ie(e.src,n=t[6].image)||m(e,"src",n),m(e,"alt",r=t[6].gameName)},m(l,o){w(l,e,o)},p(l,o){o&2&&!ie(e.src,n=l[6].image)&&m(e,"src",n),o&2&&r!==(r=l[6].gameName)&&m(e,"alt",r)},d(l){l&&k(e)}}}function De(t){let e,n,r,l,o,s,a,u,i,f,_,v,p,h,b,C,q;function N(g,A){return g[1].length>0?Ae:Oe}let O=N(t),y=O(t);return{c(){e=d("div"),n=d("form"),r=d("div"),l=d("label"),l.textContent="🔎",o=$(),s=d("input"),a=$(),u=d("div"),i=d("button"),i.textContent="Submit",f=$(),_=d("button"),_.textContent="Query 1",v=$(),p=d("button"),p.textContent="Query 2",h=$(),y.c(),b=le(),m(l,"for","search"),m(s,"type","text"),m(s,"class","form-control col-lg-9"),m(s,"id","search"),m(s,"name","search"),m(s,"placeholder"," search for games..."),s.required=!0,m(r,"class","searchform"),m(i,"type","submit"),m(i,"class","btn btn-primary"),L(i,"margin-right","1rem"),m(_,"id","btnq1"),m(_,"class","btn btn-primary"),L(_,"margin-right","0.5rem"),m(p,"id","btnq2"),m(p,"class","btn btn-primary"),L(p,"margin-left","0.5rem"),L(u,"display","flex"),m(e,"class","btn-container")},m(g,A){w(g,e,A),c(e,n),c(n,r),c(r,l),c(r,o),c(r,s),T(s,t[0]),c(n,a),c(n,u),c(u,i),c(u,f),c(u,_),c(u,v),c(u,p),w(g,h,A),y.m(g,A),w(g,b,A),C||(q=[D(s,"input",t[5]),D(_,"click",t[3]),D(p,"click",t[4]),D(n,"submit",t[2])],C=!0)},p(g,[A]){A&1&&s.value!==g[0]&&T(s,g[0]),O===(O=N(g))&&y?y.p(g,A):(y.d(1),y=O(g),y&&(y.c(),y.m(b.parentNode,b)))},i:S,o:S,d(g){g&&k(e),g&&k(h),y.d(g),g&&k(b),C=!1,M(q)}}}function Pe(t,e,n){let r="",l=[];async function o(i){i.preventDefault();const f=new FormData;f.append("search",r);const _=await fetch("/api/games/search",{method:"POST",body:f});n(1,l=await _.json()),console.log(l)}async function s(i){i.preventDefault();const f=new FormData;f.append("search",r);const _=await fetch("/api/games/query1",{method:"POST",body:f});n(1,l=await _.json()),console.log(l)}async function a(i){i.preventDefault();const f=new FormData;f.append("search",r);const _=await fetch("/api/games/query2",{method:"POST",body:f});n(1,l=await _.json()),console.log(l)}function u(){r=this.value,n(0,r)}return[r,l,o,s,a,u]}class Te extends Y{constructor(e){super(),X(this,e,Pe,De,W,{})}}function Ue(t){let e,n,r,l,o,s,a,u,i,f,_,v,p,h,b,C,q,N,O;return{c(){e=d("form"),n=d("label"),r=d("p"),r.textContent="username:",l=$(),o=d("input"),s=$(),a=d("label"),u=d("p"),u.textContent="name:",i=$(),f=d("input"),_=$(),v=d("label"),p=d("p"),p.textContent="email:",h=$(),b=d("input"),C=$(),q=d("button"),q.textContent="Sign Up",L(r,"display","inline"),L(r,"padding-right","1em"),m(o,"type","text"),o.required=!0,m(o,"class","svelte-l52ccu"),m(n,"class","svelte-l52ccu"),L(u,"display","inline"),L(u,"padding-right","1em"),m(f,"type","text"),f.required=!0,m(f,"class","svelte-l52ccu"),m(a,"class","svelte-l52ccu"),L(p,"display","inline"),L(p,"padding-right","1em"),m(b,"type","email"),b.required=!0,m(b,"class","svelte-l52ccu"),m(v,"class","svelte-l52ccu"),m(q,"type","submit"),m(q,"class","svelte-l52ccu"),m(e,"class","svelte-l52ccu")},m(y,g){w(y,e,g),c(e,n),c(n,r),c(n,l),c(n,o),T(o,t[0]),c(e,s),c(e,a),c(a,u),c(a,i),c(a,f),T(f,t[1]),c(e,_),c(e,v),c(v,p),c(v,h),c(v,b),T(b,t[2]),c(e,C),c(e,q),N||(O=[D(o,"input",t[4]),D(f,"input",t[5]),D(b,"input",t[6]),D(e,"submit",t[3])],N=!0)},p(y,[g]){g&1&&o.value!==y[0]&&T(o,y[0]),g&2&&f.value!==y[1]&&T(f,y[1]),g&4&&b.value!==y[2]&&T(b,y[2])},i:S,o:S,d(y){y&&k(e),N=!1,M(O)}}}function Fe(t,e,n){const r=we();let l="",o="",s="";function a(_){_.preventDefault(),r("submit",{username:l,realName:o,emailAddress:s})}function u(){l=this.value,n(0,l)}function i(){o=this.value,n(1,o)}function f(){s=this.value,n(2,s)}return[l,o,s,a,u,i,f]}class je extends Y{constructor(e){super(),X(this,e,Fe,Ue,W,{})}}function xe(t){let e,n,r;return{c(){e=d("button"),e.textContent="Log Out",m(e,"class","svelte-mpxy6q")},m(l,o){w(l,e,o),n||(r=D(e,"click",t[3]),n=!0)},p:S,d(l){l&&k(e),n=!1,r()}}}function Me(t){let e;return{c(){e=d("button"),e.textContent="Log In",m(e,"type","submit"),m(e,"class","svelte-mpxy6q")},m(n,r){w(n,e,r)},p:S,d(n){n&&k(e)}}}function Be(t){let e;return{c(){e=d("p"),e.innerHTML="<em>Username does not exist.</em>",L(e,"color","#BB342F"),L(e,"font-size","0.75rem")},m(n,r){w(n,e,r)},p:S,d(n){n&&k(e)}}}function He(t){let e,n,r,l;return{c(){e=d("p"),n=U("✅ Logged in as "),r=d("em"),l=U(t[0])},m(o,s){w(o,e,s),c(e,n),c(e,r),c(r,l)},p(o,s){s&1&&J(l,o[0])},d(o){o&&k(e)}}}function Ie(t){let e,n,r,l,o,s,a;function u(h,b){return h[1]==0||h[1]==-1?Me:xe}let i=u(t),f=i(t);function _(h,b){if(h[1]==1)return He;if(h[1]==-1)return Be}let v=_(t),p=v&&v(t);return{c(){e=d("form"),n=d("div"),n.innerHTML=`<label for="username" class="svelte-mpxy6q">username:</label> 
        <input type="text" id="username" name="username" required="" class="svelte-mpxy6q"/>`,r=$(),f.c(),l=$(),p&&p.c(),o=le(),m(e,"class","svelte-mpxy6q")},m(h,b){w(h,e,b),c(e,n),c(e,r),f.m(e,null),w(h,l,b),p&&p.m(h,b),w(h,o,b),s||(a=D(e,"submit",t[2]),s=!0)},p(h,[b]){i===(i=u(h))&&f?f.p(h,b):(f.d(1),f=i(h),f&&(f.c(),f.m(e,null))),v===(v=_(h))&&p?p.p(h,b):(p&&p.d(1),p=v&&v(h),p&&(p.c(),p.m(o.parentNode,o)))},i:S,o:S,d(h){h&&k(e),f.d(),h&&k(l),p&&p.d(h),h&&k(o),s=!1,a()}}}function Qe(t,e,n){let r,l;function o(a){a.preventDefault();const u=a.target.username.value.trim();if(!u){console.error("Username is required");return}fetch(`/api/users/${u}`).then(i=>{i.ok?(console.log(`User ${u} found`),n(1,r=1),n(0,l=u)):(n(1,r=-1),console.error(`User ${u} not found`))}).catch(i=>console.error(i))}function s(){n(1,r=0),n(0,l=null)}return n(1,r=0),n(0,l=null),[l,r,o,s]}class ze extends Y{constructor(e){super(),X(this,e,Qe,Ie,W,{})}}function de(t,e,n){const r=t.slice();return r[5]=e[n],r}function Je(t){let e;return{c(){e=d("p"),e.textContent="No users found 😢",L(e,"color","darkgray")},m(n,r){w(n,e,r)},p:S,d(n){n&&k(e)}}}function Ke(t){let e,n,r,l,o=t[0],s=[];for(let a=0;a<o.length;a+=1)s[a]=me(de(t,o,a));return{c(){e=d("table"),n=d("thead"),n.innerHTML=`<tr><th class="element svelte-y8491c">Username</th> 
            <th class="element svelte-y8491c">Name</th> 
            <th class="element svelte-y8491c">Email</th> 
            <th></th></tr>`,r=$(),l=d("tbody");for(let a=0;a<s.length;a+=1)s[a].c();m(e,"class","svelte-y8491c")},m(a,u){w(a,e,u),c(e,n),c(e,r),c(e,l);for(let i=0;i<s.length;i+=1)s[i]&&s[i].m(l,null)},p(a,u){if(u&5){o=a[0];let i;for(i=0;i<o.length;i+=1){const f=de(a,o,i);s[i]?s[i].p(f,u):(s[i]=me(f),s[i].c(),s[i].m(l,null))}for(;i<s.length;i+=1)s[i].d(1);s.length=o.length}},d(a){a&&k(e),_e(s,a)}}}function me(t){let e,n,r=t[5].username+"",l,o,s,a=t[5].realName+"",u,i,f,_=t[5].emailAddress+"",v,p,h,b,C,q,N;function O(){return t[3](t[5])}return{c(){e=d("tr"),n=d("td"),l=U(r),o=$(),s=d("td"),u=U(a),i=$(),f=d("td"),v=U(_),p=$(),h=d("td"),b=d("button"),b.textContent="❌",C=$(),m(n,"class","element svelte-y8491c"),m(s,"class","element svelte-y8491c"),m(f,"class","element svelte-y8491c")},m(y,g){w(y,e,g),c(e,n),c(n,l),c(e,o),c(e,s),c(s,u),c(e,i),c(e,f),c(f,v),c(e,p),c(e,h),c(h,b),c(e,C),q||(N=D(b,"click",O),q=!0)},p(y,g){t=y,g&1&&r!==(r=t[5].username+"")&&J(l,r),g&1&&a!==(a=t[5].realName+"")&&J(u,a),g&1&&_!==(_=t[5].emailAddress+"")&&J(v,_)},d(y){y&&k(e),q=!1,N()}}}function Re(t){let e,n,r,l,o,s,a,u,i,f,_,v,p,h,b,C,q,N,O,y,g,A;a=new je({}),a.$on("submit",t[1]);function se(E,Q){return E[0].length>0?Ke:Je}let I=se(t),P=I(t);return C=new ze({}),g=new Te({}),{c(){e=d("main"),n=d("div"),n.innerHTML=`<h1>STEEM</h1> 
    <a href="/"><img style="display: inline-block;" id="logo" src="/logo.png" alt="bad-logo"/></a>`,r=$(),l=d("div"),o=d("h2"),o.textContent="Registration",s=$(),te(a.$$.fragment),u=$(),i=d("div"),f=d("h2"),f.textContent="Users",_=$(),P.c(),v=$(),p=d("div"),h=d("h2"),h.textContent="Login",b=$(),te(C.$$.fragment),q=$(),N=d("div"),O=d("h2"),O.textContent="Search",y=$(),te(g.$$.fragment),m(n,"class","top-bar"),m(l,"class","card"),m(i,"class","card"),m(p,"class","card"),m(N,"class","card")},m(E,Q){w(E,e,Q),c(e,n),c(e,r),c(e,l),c(l,o),c(l,s),G(a,l,null),c(e,u),c(e,i),c(i,f),c(i,_),P.m(i,null),c(e,v),c(e,p),c(p,h),c(p,b),G(C,p,null),c(e,q),c(e,N),c(N,O),c(N,y),G(g,N,null),A=!0},p(E,[Q]){I===(I=se(E))&&P?P.p(E,Q):(P.d(1),P=I(E),P&&(P.c(),P.m(i,null)))},i(E){A||(R(a.$$.fragment,E),R(C.$$.fragment,E),R(g.$$.fragment,E),A=!0)},o(E){ee(a.$$.fragment,E),ee(C.$$.fragment,E),ee(g.$$.fragment,E),A=!1},d(E){E&&k(e),V(a),P.d(),V(C),V(g)}}}function Ge(t,e,n){let r=[];ke(async()=>{const u=await fetch("/api/users");n(0,r=await u.json())});function l(u){fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(u.detail)}).then(i=>i.text()).then(i=>{console.log(i),s()}).catch(i=>console.error(i))}function o(u){confirm("Are you sure you want to delete this user?")&&fetch("/api/users/"+u,{method:"DELETE"}).then(i=>{i.ok?n(0,r=r.filter(f=>f.username!==u)):console.error("Failed to delete user")}).catch(i=>console.error(i))}function s(){fetch("/api/users").then(u=>u.json()).then(u=>{n(0,r=u)}).catch(u=>console.error(u))}return s(),[r,l,o,u=>o(u.username)]}class Ve extends Y{constructor(e){super(),X(this,e,Ge,Re,W,{})}}new Ve({target:document.getElementById("app")});

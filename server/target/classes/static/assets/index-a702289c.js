(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&l(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function H(){}function De(t){return t()}function de(){return Object.create(null)}function J(t){t.forEach(De)}function Ee(t){return typeof t=="function"}function ee(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let fe;function x(t,e){return fe||(fe=document.createElement("a")),fe.href=e,t===fe.href}function qe(t){return Object.keys(t).length===0}function a(t,e){t.appendChild(e)}function k(t,e,n){t.insertBefore(e,n||null)}function b(t){t.parentNode&&t.parentNode.removeChild(t)}function ae(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function _(t){return document.createElement(t)}function z(t){return document.createTextNode(t)}function N(){return z(" ")}function te(){return z("")}function G(t,e,n,l){return t.addEventListener(e,n,l),()=>t.removeEventListener(e,n,l)}function $(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ze(t){return Array.from(t.childNodes)}function M(t,e){e=""+e,t.data!==e&&(t.data=e)}function Q(t,e){t.value=e??""}function O(t,e,n,l){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,l?"important":"")}function Te(t,e,{bubbles:n=!1,cancelable:l=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,l,e),o}let se;function re(t){se=t}function Le(){if(!se)throw new Error("Function called outside component initialization");return se}function Ue(t){Le().$$.on_mount.push(t)}function Be(){const t=Le();return(e,n,{cancelable:l=!1}={})=>{const o=t.$$.callbacks[e];if(o){const i=Te(e,n,{cancelable:l});return o.slice().forEach(s=>{s.call(t,i)}),!i.defaultPrevented}return!0}}const K=[],ce=[];let Y=[];const be=[],Ae=Promise.resolve();let pe=!1;function Fe(){pe||(pe=!0,Ae.then(Oe))}function _e(t){Y.push(t)}const me=new Set;let V=0;function Oe(){if(V!==0)return;const t=se;do{try{for(;V<K.length;){const e=K[V];V++,re(e),Me(e.$$)}}catch(e){throw K.length=0,V=0,e}for(re(null),K.length=0,V=0;ce.length;)ce.pop()();for(let e=0;e<Y.length;e+=1){const n=Y[e];me.has(n)||(me.add(n),n())}Y.length=0}while(K.length);for(;be.length;)be.pop()();pe=!1,me.clear(),re(t)}function Me(t){if(t.fragment!==null){t.update(),J(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(_e)}}function je(t){const e=[],n=[];Y.forEach(l=>t.indexOf(l)===-1?e.push(l):n.push(l)),n.forEach(l=>l()),Y=e}const ue=new Set;let He;function W(t,e){t&&t.i&&(ue.delete(t),t.i(e))}function ie(t,e,n,l){if(t&&t.o){if(ue.has(t))return;ue.add(t),He.c.push(()=>{ue.delete(t),l&&(n&&t.d(1),l())}),t.o(e)}else l&&l()}function oe(t){t&&t.c()}function X(t,e,n,l){const{fragment:o,after_update:i}=t.$$;o&&o.m(e,n),l||_e(()=>{const s=t.$$.on_mount.map(De).filter(Ee);t.$$.on_destroy?t.$$.on_destroy.push(...s):J(s),t.$$.on_mount=[]}),i.forEach(_e)}function Z(t,e){const n=t.$$;n.fragment!==null&&(je(n.after_update),J(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ge(t,e){t.$$.dirty[0]===-1&&(K.push(t),Fe(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ne(t,e,n,l,o,i,s,u=[-1]){const f=se;re(t);const r=t.$$={fragment:null,ctx:[],props:i,update:H,not_equal:o,bound:de(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(f?f.$$.context:[])),callbacks:de(),dirty:u,skip_bound:!1,root:e.target||f.$$.root};s&&s(r.root);let c=!1;if(r.ctx=n?n(t,e.props||{},(m,p,...h)=>{const P=h.length?h[0]:p;return r.ctx&&o(r.ctx[m],r.ctx[m]=P)&&(!r.skip_bound&&r.bound[m]&&r.bound[m](P),c&&Ge(t,m)),p}):[],r.update(),c=!0,J(r.before_update),r.fragment=l?l(r.ctx):!1,e.target){if(e.hydrate){const m=ze(e.target);r.fragment&&r.fragment.l(m),m.forEach(b)}else r.fragment&&r.fragment.c();e.intro&&W(t.$$.fragment),X(t,e.target,e.anchor,e.customElement),Oe()}re(f)}class le{$destroy(){Z(this,1),this.$destroy=H}$on(e,n){if(!Ee(n))return H;const l=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return l.push(n),()=>{const o=l.indexOf(n);o!==-1&&l.splice(o,1)}}$set(e){this.$$set&&!qe(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ke(t,e,n){const l=t.slice();return l[9]=e[n],l}function Re(t){let e;return{c(){e=_("p"),e.textContent="No results found.",O(e,"color","darkgray")},m(n,l){k(n,e,l)},p:H,d(n){n&&b(e)}}}function Qe(t){let e,n=t[1].length+"",l,o,i,s,u=t[1],f=[];for(let r=0;r<u.length;r+=1)f[r]=ye(ke(t,u,r));return{c(){e=_("p"),l=z(n),o=z(" results found."),i=N();for(let r=0;r<f.length;r+=1)f[r].c();s=te(),O(e,"color","darkgray")},m(r,c){k(r,e,c),a(e,l),a(e,o),k(r,i,c);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(r,c);k(r,s,c)},p(r,c){if(c&2&&n!==(n=r[1].length+"")&&M(l,n),c&34){u=r[1];let m;for(m=0;m<u.length;m+=1){const p=ke(r,u,m);f[m]?f[m].p(p,c):(f[m]=ye(p),f[m].c(),f[m].m(s.parentNode,s))}for(;m<f.length;m+=1)f[m].d(1);f.length=u.length}},d(r){r&&b(e),r&&b(i),ae(f,r),r&&b(s)}}}function he(t){let e,n,l,o=t[9].finalPrice+"",i;return{c(){e=_("p"),n=_("b"),n.textContent="ON SALE!",l=z(" Discount price: "),i=z(o),O(e,"font-size","0.9rem")},m(s,u){k(s,e,u),a(e,n),a(e,l),a(e,i)},p(s,u){u&2&&o!==(o=s[9].finalPrice+"")&&M(i,o)},d(s){s&&b(e)}}}function ye(t){let e,n,l,o,i,s,u=t[9].gameName+"",f,r,c,m,p=t[9].metacriticScore+"",h,P,v,C=t[9].shortDescription+"",y,L,T,q,D=t[9].initialPrice+"",F,j,U,S,A,w,B,R,E=t[9].initialPrice!=t[9].finalPrice&&he(t);function I(){return t[8](t[9])}return{c(){e=_("img"),o=N(),i=_("p"),s=_("b"),f=z(u),r=N(),c=_("p"),m=z("Metacritic score: "),h=z(p),P=N(),v=_("p"),y=z(C),L=N(),T=_("p"),q=z("Original price: "),F=z(D),j=N(),E&&E.c(),U=N(),S=_("div"),A=_("button"),A.textContent="Bookmark",w=N(),x(e.src,n=t[9].image)||$(e,"src",n),$(e,"alt",l=t[9].gameName),O(i,"font-size","0.9rem"),O(c,"font-size","0.9rem"),O(v,"font-size","0.9rem"),O(T,"font-size","0.9rem"),$(A,"id","btn_bookmark"),$(A,"class","btn btn-primary"),O(A,"margin-right","0.5rem"),O(S,"display","flex")},m(d,g){k(d,e,g),k(d,o,g),k(d,i,g),a(i,s),a(s,f),k(d,r,g),k(d,c,g),a(c,m),a(c,h),k(d,P,g),k(d,v,g),a(v,y),k(d,L,g),k(d,T,g),a(T,q),a(T,F),k(d,j,g),E&&E.m(d,g),k(d,U,g),k(d,S,g),a(S,A),a(S,w),B||(R=G(A,"click",I),B=!0)},p(d,g){t=d,g&2&&!x(e.src,n=t[9].image)&&$(e,"src",n),g&2&&l!==(l=t[9].gameName)&&$(e,"alt",l),g&2&&u!==(u=t[9].gameName+"")&&M(f,u),g&2&&p!==(p=t[9].metacriticScore+"")&&M(h,p),g&2&&C!==(C=t[9].shortDescription+"")&&M(y,C),g&2&&D!==(D=t[9].initialPrice+"")&&M(F,D),t[9].initialPrice!=t[9].finalPrice?E?E.p(t,g):(E=he(t),E.c(),E.m(U.parentNode,U)):E&&(E.d(1),E=null)},d(d){d&&b(e),d&&b(o),d&&b(i),d&&b(r),d&&b(c),d&&b(P),d&&b(v),d&&b(L),d&&b(T),d&&b(j),E&&E.d(d),d&&b(U),d&&b(S),B=!1,R()}}}function Ie(t){let e,n,l,o,i,s,u,f,r,c,m,p,h,P,v,C,y,L,T,q,D;function F(S,A){return S[1].length>0?Qe:Re}let j=F(t),U=j(t);return{c(){e=_("div"),n=_("form"),l=_("div"),o=_("label"),o.textContent="ðŸ”Ž",i=N(),s=_("input"),u=N(),f=_("p"),f.innerHTML="<b>Specialized Query 1:</b> Return the game name, website, genre, and initial price of games that share the same website as games with similar name to the provided game name, have steam spy number of players greater than 10000 (inclusive), and have initial price less than 10 (not inclusive).",r=N(),c=_("p"),c.innerHTML="<b>Specialized Query 2:</b> Return the game name and PC minimum and recommended requirements of all games that have the same PC requirements as games with similar name to the provided game name, ordered by game name in ascending order.",m=N(),p=_("div"),h=_("button"),h.textContent="Submit",P=N(),v=_("button"),v.textContent="Query 1",C=N(),y=_("button"),y.textContent="Query 2",L=N(),U.c(),T=te(),$(o,"for","search"),$(s,"type","text"),$(s,"class","form-control col-lg-9"),$(s,"id","search"),$(s,"name","search"),$(s,"placeholder"," search for games..."),s.required=!0,$(l,"class","searchform"),O(f,"font-size","0.9rem"),O(c,"font-size","0.9rem"),$(h,"type","submit"),$(h,"class","btn btn-primary"),O(h,"margin-right","1rem"),$(v,"id","btnq1"),$(v,"class","btn btn-primary"),O(v,"margin-right","0.5rem"),$(y,"id","btnq2"),$(y,"class","btn btn-primary"),O(y,"margin-left","0.5rem"),O(p,"display","flex"),$(e,"class","btn-container")},m(S,A){k(S,e,A),a(e,n),a(n,l),a(l,o),a(l,i),a(l,s),Q(s,t[0]),a(n,u),a(n,f),a(n,r),a(n,c),a(n,m),a(n,p),a(p,h),a(p,P),a(p,v),a(p,C),a(p,y),k(S,L,A),U.m(S,A),k(S,T,A),q||(D=[G(s,"input",t[7]),G(v,"click",t[3]),G(y,"click",t[4]),G(n,"submit",t[2])],q=!0)},p(S,[A]){A&1&&s.value!==S[0]&&Q(s,S[0]),j===(j=F(S))&&U?U.p(S,A):(U.d(1),U=j(S),U&&(U.c(),U.m(T.parentNode,T)))},i:H,o:H,d(S){S&&b(e),S&&b(L),U.d(S),S&&b(T),q=!1,J(D)}}}function Je(t,e,n){let{username:l}=e,o="",i=[];async function s(p){p.preventDefault();const h=new FormData;h.append("search",o);const P=await fetch("/api/games/search",{method:"POST",body:h});n(1,i=await P.json()),console.log(i)}async function u(p){p.preventDefault();const h=new FormData;h.append("search",o);const P=await fetch("/api/games/query1",{method:"POST",body:h});n(1,i=await P.json()),console.log(i)}async function f(p){p.preventDefault();const h=new FormData;h.append("search",o);const P=await fetch("/api/games/query2",{method:"POST",body:h});n(1,i=await P.json()),console.log(i)}async function r(p){console.log("Bookmarking",p);const h=new FormData;h.append("username",l),h.append("gameName",p),await fetch("/api/bookmarks/bookmarkGame",{method:"POST",body:h})}function c(){o=this.value,n(0,o)}const m=p=>r(p.gameName);return t.$$set=p=>{"username"in p&&n(6,l=p.username)},[o,i,s,u,f,r,l,c,m]}class Ve extends le{constructor(e){super(),ne(this,e,Je,Ie,ee,{username:6})}}function Ke(t){let e,n,l,o,i,s,u,f,r,c,m,p,h,P,v,C,y,L,T;return{c(){e=_("form"),n=_("label"),l=_("p"),l.textContent="username:",o=N(),i=_("input"),s=N(),u=_("label"),f=_("p"),f.textContent="name:",r=N(),c=_("input"),m=N(),p=_("label"),h=_("p"),h.textContent="email:",P=N(),v=_("input"),C=N(),y=_("button"),y.textContent="Sign Up",O(l,"display","inline"),O(l,"padding-right","1em"),$(i,"type","text"),i.required=!0,$(i,"class","svelte-l52ccu"),$(n,"class","svelte-l52ccu"),O(f,"display","inline"),O(f,"padding-right","1em"),$(c,"type","text"),c.required=!0,$(c,"class","svelte-l52ccu"),$(u,"class","svelte-l52ccu"),O(h,"display","inline"),O(h,"padding-right","1em"),$(v,"type","email"),v.required=!0,$(v,"class","svelte-l52ccu"),$(p,"class","svelte-l52ccu"),$(y,"type","submit"),$(y,"class","svelte-l52ccu"),$(e,"class","svelte-l52ccu")},m(q,D){k(q,e,D),a(e,n),a(n,l),a(n,o),a(n,i),Q(i,t[0]),a(e,s),a(e,u),a(u,f),a(u,r),a(u,c),Q(c,t[1]),a(e,m),a(e,p),a(p,h),a(p,P),a(p,v),Q(v,t[2]),a(e,C),a(e,y),L||(T=[G(i,"input",t[4]),G(c,"input",t[5]),G(v,"input",t[6]),G(e,"submit",t[3])],L=!0)},p(q,[D]){D&1&&i.value!==q[0]&&Q(i,q[0]),D&2&&c.value!==q[1]&&Q(c,q[1]),D&4&&v.value!==q[2]&&Q(v,q[2])},i:H,o:H,d(q){q&&b(e),L=!1,J(T)}}}function Ye(t,e,n){const l=Be();let o="",i="",s="";function u(m){m.preventDefault(),l("submit",{username:o,realName:i,emailAddress:s})}function f(){o=this.value,n(0,o)}function r(){i=this.value,n(1,i)}function c(){s=this.value,n(2,s)}return[o,i,s,u,f,r,c]}class We extends le{constructor(e){super(),ne(this,e,Ye,Ke,ee,{})}}function ve(t,e,n){const l=t.slice();return l[9]=e[n],l}function ge(t,e,n){const l=t.slice();return l[9]=e[n],l}function Xe(t){let e;return{c(){e=_("p"),e.textContent="No results found.",O(e,"color","darkgray")},m(n,l){k(n,e,l)},p:H,d(n){n&&b(e)}}}function Ze(t){let e,n=t[1].length+"",l,o,i,s,u=t[1],f=[];for(let r=0;r<u.length;r+=1)f[r]=we(ge(t,u,r));return{c(){e=_("p"),l=z(n),o=z(" bookmarks."),i=N();for(let r=0;r<f.length;r+=1)f[r].c();s=te(),O(e,"color","darkgray")},m(r,c){k(r,e,c),a(e,l),a(e,o),k(r,i,c);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(r,c);k(r,s,c)},p(r,c){if(c&2&&n!==(n=r[1].length+"")&&M(l,n),c&18){u=r[1];let m;for(m=0;m<u.length;m+=1){const p=ge(r,u,m);f[m]?f[m].p(p,c):(f[m]=we(p),f[m].c(),f[m].m(s.parentNode,s))}for(;m<f.length;m+=1)f[m].d(1);f.length=u.length}},d(r){r&&b(e),r&&b(i),ae(f,r),r&&b(s)}}}function $e(t){let e,n,l,o=t[9].finalPrice+"",i;return{c(){e=_("p"),n=_("b"),n.textContent="ON SALE!",l=z(" Discount price: "),i=z(o),O(e,"font-size","0.9rem")},m(s,u){k(s,e,u),a(e,n),a(e,l),a(e,i)},p(s,u){u&2&&o!==(o=s[9].finalPrice+"")&&M(i,o)},d(s){s&&b(e)}}}function we(t){let e,n,l,o,i,s,u=t[9].gameName+"",f,r,c,m,p=t[9].metacriticScore+"",h,P,v,C=t[9].shortDescription+"",y,L,T,q,D=t[9].initialPrice+"",F,j,U,S,A,w,B,R,E=t[9].initialPrice!=t[9].finalPrice&&$e(t);function I(){return t[6](t[9])}return{c(){e=_("img"),o=N(),i=_("p"),s=_("b"),f=z(u),r=N(),c=_("p"),m=z("Metacritic score: "),h=z(p),P=N(),v=_("p"),y=z(C),L=N(),T=_("p"),q=z("Original price: "),F=z(D),j=N(),E&&E.c(),U=N(),S=_("div"),A=_("button"),A.textContent="Remove Bookmark",w=N(),x(e.src,n=t[9].image)||$(e,"src",n),$(e,"alt",l=t[9].gameName),O(i,"font-size","0.9rem"),O(c,"font-size","0.9rem"),O(v,"font-size","0.9rem"),O(T,"font-size","0.9rem"),$(A,"id","btn_remove_bookmark"),$(A,"class","btn btn-primary"),O(A,"margin-right","0.5rem"),O(S,"display","flex")},m(d,g){k(d,e,g),k(d,o,g),k(d,i,g),a(i,s),a(s,f),k(d,r,g),k(d,c,g),a(c,m),a(c,h),k(d,P,g),k(d,v,g),a(v,y),k(d,L,g),k(d,T,g),a(T,q),a(T,F),k(d,j,g),E&&E.m(d,g),k(d,U,g),k(d,S,g),a(S,A),a(S,w),B||(R=G(A,"click",I),B=!0)},p(d,g){t=d,g&2&&!x(e.src,n=t[9].image)&&$(e,"src",n),g&2&&l!==(l=t[9].gameName)&&$(e,"alt",l),g&2&&u!==(u=t[9].gameName+"")&&M(f,u),g&2&&p!==(p=t[9].metacriticScore+"")&&M(h,p),g&2&&C!==(C=t[9].shortDescription+"")&&M(y,C),g&2&&D!==(D=t[9].initialPrice+"")&&M(F,D),t[9].initialPrice!=t[9].finalPrice?E?E.p(t,g):(E=$e(t),E.c(),E.m(U.parentNode,U)):E&&(E.d(1),E=null)},d(d){d&&b(e),d&&b(o),d&&b(i),d&&b(r),d&&b(c),d&&b(P),d&&b(v),d&&b(L),d&&b(T),d&&b(j),E&&E.d(d),d&&b(U),d&&b(S),B=!1,R()}}}function xe(t){let e;return{c(){e=_("p"),e.textContent="No recommendations found.",O(e,"color","darkgray")},m(n,l){k(n,e,l)},p:H,d(n){n&&b(e)}}}function et(t){let e,n=t[2].length+"",l,o,i,s,u=t[2],f=[];for(let r=0;r<u.length;r+=1)f[r]=Pe(ve(t,u,r));return{c(){e=_("p"),l=z(n),o=z(" recommendations."),i=N();for(let r=0;r<f.length;r+=1)f[r].c();s=te(),O(e,"color","darkgray")},m(r,c){k(r,e,c),a(e,l),a(e,o),k(r,i,c);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(r,c);k(r,s,c)},p(r,c){if(c&4&&n!==(n=r[2].length+"")&&M(l,n),c&12){u=r[2];let m;for(m=0;m<u.length;m+=1){const p=ve(r,u,m);f[m]?f[m].p(p,c):(f[m]=Pe(p),f[m].c(),f[m].m(s.parentNode,s))}for(;m<f.length;m+=1)f[m].d(1);f.length=u.length}},d(r){r&&b(e),r&&b(i),ae(f,r),r&&b(s)}}}function Ne(t){let e,n,l,o=t[9].finalPrice+"",i;return{c(){e=_("p"),n=_("b"),n.textContent="ON SALE!",l=z(" Discount price: "),i=z(o),O(e,"font-size","0.9rem")},m(s,u){k(s,e,u),a(e,n),a(e,l),a(e,i)},p(s,u){u&4&&o!==(o=s[9].finalPrice+"")&&M(i,o)},d(s){s&&b(e)}}}function Pe(t){let e,n,l,o,i,s,u=t[9].gameName+"",f,r,c,m,p=t[9].metacriticScore+"",h,P,v,C=t[9].shortDescription+"",y,L,T,q,D=t[9].initialPrice+"",F,j,U,S,A,w,B,R,E=t[9].initialPrice!=t[9].finalPrice&&Ne(t);function I(){return t[7](t[9])}return{c(){e=_("img"),o=N(),i=_("p"),s=_("b"),f=z(u),r=N(),c=_("p"),m=z("Metacritic score: "),h=z(p),P=N(),v=_("p"),y=z(C),L=N(),T=_("p"),q=z("Original price: "),F=z(D),j=N(),E&&E.c(),U=N(),S=_("div"),A=_("button"),A.textContent="Add Bookmark",w=N(),x(e.src,n=t[9].image)||$(e,"src",n),$(e,"alt",l=t[9].gameName),O(i,"font-size","0.9rem"),O(c,"font-size","0.9rem"),O(v,"font-size","0.9rem"),O(T,"font-size","0.9rem"),$(A,"id","btn_add_bookmark"),$(A,"class","btn btn-primary"),O(A,"margin-right","0.5rem"),O(S,"display","flex")},m(d,g){k(d,e,g),k(d,o,g),k(d,i,g),a(i,s),a(s,f),k(d,r,g),k(d,c,g),a(c,m),a(c,h),k(d,P,g),k(d,v,g),a(v,y),k(d,L,g),k(d,T,g),a(T,q),a(T,F),k(d,j,g),E&&E.m(d,g),k(d,U,g),k(d,S,g),a(S,A),a(S,w),B||(R=G(A,"click",I),B=!0)},p(d,g){t=d,g&4&&!x(e.src,n=t[9].image)&&$(e,"src",n),g&4&&l!==(l=t[9].gameName)&&$(e,"alt",l),g&4&&u!==(u=t[9].gameName+"")&&M(f,u),g&4&&p!==(p=t[9].metacriticScore+"")&&M(h,p),g&4&&C!==(C=t[9].shortDescription+"")&&M(y,C),g&4&&D!==(D=t[9].initialPrice+"")&&M(F,D),t[9].initialPrice!=t[9].finalPrice?E?E.p(t,g):(E=Ne(t),E.c(),E.m(U.parentNode,U)):E&&(E.d(1),E=null)},d(d){d&&b(e),d&&b(o),d&&b(i),d&&b(r),d&&b(c),d&&b(P),d&&b(v),d&&b(L),d&&b(T),d&&b(j),E&&E.d(d),d&&b(U),d&&b(S),B=!1,R()}}}function tt(t){let e,n,l,o,i,s,u,f,r,c;function m(y,L){return y[1].length>0?Ze:Xe}let p=m(t),h=p(t);function P(y,L){return y[2].length>0?et:xe}let v=P(t),C=v(t);return{c(){e=_("h3"),e.innerHTML="<p>Bookmarked games</p>",n=N(),l=_("form"),l.innerHTML='<button type="submit">View Bookmarks</button>',o=N(),h.c(),i=N(),s=_("h3"),s.innerHTML="<p>Recommendations based on bookmarks</p>",u=N(),C.c(),f=te()},m(y,L){k(y,e,L),k(y,n,L),k(y,l,L),k(y,o,L),h.m(y,L),k(y,i,L),k(y,s,L),k(y,u,L),C.m(y,L),k(y,f,L),r||(c=G(l,"submit",t[0]),r=!0)},p(y,[L]){p===(p=m(y))&&h?h.p(y,L):(h.d(1),h=p(y),h&&(h.c(),h.m(i.parentNode,i))),v===(v=P(y))&&C?C.p(y,L):(C.d(1),C=v(y),C&&(C.c(),C.m(f.parentNode,f)))},i:H,o:H,d(y){y&&b(e),y&&b(n),y&&b(l),y&&b(o),h.d(y),y&&b(i),y&&b(s),y&&b(u),C.d(y),y&&b(f),r=!1,c()}}}function nt(t,e,n){let{username:l}=e,o=[],i=[];async function s(p){if(p!=null&&p.preventDefault(),console.log("Getting bookmarks for user",l),!l){console.error("Username is required"),n(1,o=[]),n(2,i=[]);return}const h=await fetch(`/api/bookmarks/${l}`);n(1,o=await h.json()),console.log(o),r()}async function u(p){console.log("Bookmarking",p);const h=new FormData;h.append("username",l),h.append("gameName",p),await fetch("/api/bookmarks/bookmarkGame",{method:"POST",body:h}),s()}async function f(p){if(console.log("Removing bookmarked game",p,"for user",l),!l){console.error("Username is required");return}const h=new FormData;h.append("username",l),h.append("gameName",p);const P=await fetch("/api/bookmarks/removeBookmarkedGame",{method:"POST",body:h});console.log("Remove bookmark response ",P),s()}async function r(){if(console.log("Getting bookmark recommendations for user",l),!l){console.error("Username is required");return}const p=await fetch(`/api/bookmarks/recommendations/${l}`);n(2,i=await p.json()),console.log(i)}const c=p=>f(p.gameName),m=p=>u(p.gameName);return t.$$set=p=>{"username"in p&&n(5,l=p.username)},[s,o,i,u,f,l,c,m]}class lt extends le{constructor(e){super(),ne(this,e,nt,tt,ee,{username:5,getBookmarks:0})}get getBookmarks(){return this.$$.ctx[0]}}function rt(t){let e;return{c(){e=_("p"),e.innerHTML="<em>You need to log in to change your username.</em>",O(e,"color","#BB342F"),O(e,"font-size","0.7rem")},m(n,l){k(n,e,l)},p:H,d(n){n&&b(e)}}}function it(t){let e,n,l,o,i;return{c(){e=_("p"),n=z("Username successfully changed to "),l=_("em"),o=z(t[0]),i=z("."),O(e,"font-size","0.8rem")},m(s,u){k(s,e,u),a(e,n),a(e,l),a(l,o),a(e,i)},p(s,u){u&1&&M(o,s[0])},d(s){s&&b(e)}}}function ot(t){let e,n,l,o,i,s,u,f,r,c,m;function p(v,C){if(v[2]==1)return it;if(v[2]==-1)return rt}let h=p(t),P=h&&h(t);return{c(){e=_("form"),n=_("div"),l=_("label"),l.textContent="update username:",o=N(),i=_("input"),s=N(),u=_("button"),u.textContent="Update",f=N(),P&&P.c(),r=te(),$(l,"for","username"),$(l,"class","svelte-1l9cloy"),$(i,"type","text"),$(i,"id","username"),$(i,"name","username"),i.required=!0,$(i,"class","svelte-1l9cloy"),$(u,"type","submit"),$(u,"class","svelte-1l9cloy"),$(e,"class","svelte-1l9cloy")},m(v,C){k(v,e,C),a(e,n),a(n,l),a(n,o),a(n,i),Q(i,t[1]),a(e,s),a(e,u),k(v,f,C),P&&P.m(v,C),k(v,r,C),c||(m=[G(i,"input",t[4]),G(e,"submit",t[3])],c=!0)},p(v,[C]){C&2&&i.value!==v[1]&&Q(i,v[1]),h===(h=p(v))&&P?P.p(v,C):(P&&P.d(1),P=h&&h(v),P&&(P.c(),P.m(r.parentNode,r)))},i:H,o:H,d(v){v&&b(e),v&&b(f),P&&P.d(v),v&&b(r),c=!1,J(m)}}}function st(t,e,n){let l,{username:o}=e,i=null;async function s(f){if(f.preventDefault(),n(1,i=f.target.username.value.trim()),!i){console.error("New username is required");return}(await fetch(`/api/users/${o}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(i)})).ok?(n(2,l=1),console.log(`Username updated to ${i}`),n(0,o=i)):(n(2,l=-1),console.error("Failed to update username"))}function u(){i=this.value,n(1,i)}return t.$$set=f=>{"username"in f&&n(0,o=f.username)},n(2,l=0),[o,i,l,s,u]}class ft extends le{constructor(e){super(),ne(this,e,st,ot,ee,{username:0})}}function ut(t){let e,n,l;return{c(){e=_("button"),e.textContent="Log Out",$(e,"class","svelte-mpxy6q")},m(o,i){k(o,e,i),n||(l=G(e,"click",t[4]),n=!0)},p:H,d(o){o&&b(e),n=!1,l()}}}function at(t){let e;return{c(){e=_("button"),e.textContent="Log In",$(e,"type","submit"),$(e,"class","svelte-mpxy6q")},m(n,l){k(n,e,l)},p:H,d(n){n&&b(e)}}}function mt(t){let e;return{c(){e=_("p"),e.innerHTML="<em>Username does not exist.</em>",O(e,"color","#BB342F"),O(e,"font-size","0.75rem")},m(n,l){k(n,e,l)},p:H,d(n){n&&b(e)}}}function ct(t){let e,n,l,o;return{c(){e=_("p"),n=z("âœ… Logged in as "),l=_("em"),o=z(t[1])},m(i,s){k(i,e,s),a(e,n),a(e,l),a(l,o)},p(i,s){s&2&&M(o,i[1])},d(i){i&&b(e)}}}function pt(t){let e,n,l,o,i,s,u,f,r,c,m,p,h,P,v,C,y,L,T;function q(w,B){return w[2]==0||w[2]==-1?at:ut}let D=q(t),F=D(t);function j(w,B){if(w[2]==1)return ct;if(w[2]==-1)return mt}let U=j(t),S=U&&U(t);f=new ft({props:{username:t[1]}});let A={username:t[1]};return p=new lt({props:A}),t[5](p),C=new Ve({props:{username:t[1]}}),{c(){e=_("form"),n=_("div"),n.innerHTML=`<label for="username" class="svelte-mpxy6q">username:</label> 
        <input type="text" id="username" name="username" required="" class="svelte-mpxy6q"/>`,l=N(),F.c(),o=N(),S&&S.c(),i=N(),s=_("h2"),s.textContent="Change Username",u=N(),oe(f.$$.fragment),r=N(),c=_("h2"),c.textContent="Bookmarks",m=N(),oe(p.$$.fragment),h=N(),P=_("h2"),P.textContent="Search",v=N(),oe(C.$$.fragment),$(e,"class","svelte-mpxy6q")},m(w,B){k(w,e,B),a(e,n),a(e,l),F.m(e,null),k(w,o,B),S&&S.m(w,B),k(w,i,B),k(w,s,B),k(w,u,B),X(f,w,B),k(w,r,B),k(w,c,B),k(w,m,B),X(p,w,B),k(w,h,B),k(w,P,B),k(w,v,B),X(C,w,B),y=!0,L||(T=G(e,"submit",t[3]),L=!0)},p(w,[B]){D===(D=q(w))&&F?F.p(w,B):(F.d(1),F=D(w),F&&(F.c(),F.m(e,null))),U===(U=j(w))&&S?S.p(w,B):(S&&S.d(1),S=U&&U(w),S&&(S.c(),S.m(i.parentNode,i)));const R={};B&2&&(R.username=w[1]),f.$set(R);const E={};B&2&&(E.username=w[1]),p.$set(E);const I={};B&2&&(I.username=w[1]),C.$set(I)},i(w){y||(W(f.$$.fragment,w),W(p.$$.fragment,w),W(C.$$.fragment,w),y=!0)},o(w){ie(f.$$.fragment,w),ie(p.$$.fragment,w),ie(C.$$.fragment,w),y=!1},d(w){w&&b(e),F.d(),w&&b(o),S&&S.d(w),w&&b(i),w&&b(s),w&&b(u),Z(f,w),w&&b(r),w&&b(c),w&&b(m),t[5](null),Z(p,w),w&&b(h),w&&b(P),w&&b(v),Z(C,w),L=!1,T()}}}function _t(t,e,n){let l,o,i;function s(r){r.preventDefault();const c=r.target.username.value.trim();if(!c){console.error("Username is required");return}fetch(`/api/users/${c}`).then(m=>{m.ok?(console.log(`User ${c} found`),n(2,l=1),n(1,o=c)):(n(2,l=-1),console.error(`User ${c} not found`))}).catch(m=>console.error(m))}function u(){n(2,l=0),n(1,o=null)}function f(r){ce[r?"unshift":"push"](()=>{i=r,n(0,i)})}return n(2,l=0),n(1,o=null),[i,o,l,s,u,f]}class dt extends le{constructor(e){super(),ne(this,e,_t,pt,ee,{})}}function Ce(t,e,n){const l=t.slice();return l[5]=e[n],l}function bt(t){let e;return{c(){e=_("p"),e.textContent="No users found ðŸ˜¢",O(e,"color","darkgray")},m(n,l){k(n,e,l)},p:H,d(n){n&&b(e)}}}function kt(t){let e,n,l,o,i=t[0],s=[];for(let u=0;u<i.length;u+=1)s[u]=Se(Ce(t,i,u));return{c(){e=_("table"),n=_("thead"),n.innerHTML=`<tr><th class="element svelte-13uy8s4">Username</th> 
            <th class="element svelte-13uy8s4">Name</th> 
            <th class="element svelte-13uy8s4">Email</th> 
            <th></th></tr>`,l=N(),o=_("tbody");for(let u=0;u<s.length;u+=1)s[u].c();$(e,"class","svelte-13uy8s4")},m(u,f){k(u,e,f),a(e,n),a(e,l),a(e,o);for(let r=0;r<s.length;r+=1)s[r]&&s[r].m(o,null)},p(u,f){if(f&5){i=u[0];let r;for(r=0;r<i.length;r+=1){const c=Ce(u,i,r);s[r]?s[r].p(c,f):(s[r]=Se(c),s[r].c(),s[r].m(o,null))}for(;r<s.length;r+=1)s[r].d(1);s.length=i.length}},d(u){u&&b(e),ae(s,u)}}}function Se(t){let e,n,l=t[5].username+"",o,i,s,u=t[5].realName+"",f,r,c,m=t[5].emailAddress+"",p,h,P,v,C,y,L;function T(){return t[3](t[5])}return{c(){e=_("tr"),n=_("td"),o=z(l),i=N(),s=_("td"),f=z(u),r=N(),c=_("td"),p=z(m),h=N(),P=_("td"),v=_("button"),v.textContent="âŒ",C=N(),$(n,"class","element svelte-13uy8s4"),$(s,"class","element svelte-13uy8s4"),$(c,"class","element svelte-13uy8s4")},m(q,D){k(q,e,D),a(e,n),a(n,o),a(e,i),a(e,s),a(s,f),a(e,r),a(e,c),a(c,p),a(e,h),a(e,P),a(P,v),a(e,C),y||(L=G(v,"click",T),y=!0)},p(q,D){t=q,D&1&&l!==(l=t[5].username+"")&&M(o,l),D&1&&u!==(u=t[5].realName+"")&&M(f,u),D&1&&m!==(m=t[5].emailAddress+"")&&M(p,m)},d(q){q&&b(e),y=!1,L()}}}function ht(t){let e,n,l,o,i,s,u,f,r,c,m,p,h,P,v,C,y;u=new We({}),u.$on("submit",t[1]);function L(D,F){return D[0].length>0?kt:bt}let T=L(t),q=T(t);return C=new dt({}),{c(){e=_("main"),n=_("div"),n.innerHTML=`<h1>STEEM</h1> 
    <a href="/"><img style="display: inline-block;" id="logo" src="/logo.png" alt="bad-logo"/></a>`,l=N(),o=_("div"),i=_("h2"),i.textContent="Registration",s=N(),oe(u.$$.fragment),f=N(),r=_("div"),c=_("h2"),c.textContent="Users",m=N(),q.c(),p=N(),h=_("div"),P=_("h2"),P.textContent="Login",v=N(),oe(C.$$.fragment),$(n,"class","top-bar"),$(o,"class","card"),$(r,"class","card"),$(h,"class","card")},m(D,F){k(D,e,F),a(e,n),a(e,l),a(e,o),a(o,i),a(o,s),X(u,o,null),a(e,f),a(e,r),a(r,c),a(r,m),q.m(r,null),a(e,p),a(e,h),a(h,P),a(h,v),X(C,h,null),y=!0},p(D,[F]){T===(T=L(D))&&q?q.p(D,F):(q.d(1),q=T(D),q&&(q.c(),q.m(r,null)))},i(D){y||(W(u.$$.fragment,D),W(C.$$.fragment,D),y=!0)},o(D){ie(u.$$.fragment,D),ie(C.$$.fragment,D),y=!1},d(D){D&&b(e),Z(u),q.d(),Z(C)}}}function yt(t,e,n){let l=[];Ue(async()=>{const f=await fetch("/api/users");n(0,l=await f.json())});function o(f){fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(f.detail)}).then(r=>r.text()).then(r=>{console.log(r),s()}).catch(r=>console.error(r))}function i(f){confirm("Are you sure you want to delete this user?")&&fetch("/api/users/"+f,{method:"DELETE"}).then(r=>{r.ok?n(0,l=l.filter(c=>c.username!==f)):console.error("Failed to delete user")}).catch(r=>console.error(r))}function s(){fetch("/api/users").then(f=>f.json()).then(f=>{n(0,l=f)}).catch(f=>console.error(f))}return s(),[l,o,i,f=>i(f.username)]}class vt extends le{constructor(e){super(),ne(this,e,yt,ht,ee,{})}}new vt({target:document.getElementById("app")});

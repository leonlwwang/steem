(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();function L(){}function de(t){return t()}function se(){return Object.create(null)}function P(t){t.forEach(de)}function pe(t){return typeof t=="function"}function J(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}let W;function oe(t,e){return W||(W=document.createElement("a")),W.href=e,t===W.href}function be(t){return Object.keys(t).length===0}function u(t,e){t.appendChild(e)}function q(t,e,n){t.insertBefore(e,n||null)}function N(t){t.parentNode&&t.parentNode.removeChild(t)}function he(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function T(t){return document.createTextNode(t)}function v(){return T(" ")}function _e(){return T("")}function A(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function m(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function ve(t){return Array.from(t.childNodes)}function X(t,e){e=""+e,t.data!==e&&(t.data=e)}function F(t,e){t.value=e??""}function U(t,e,n,r){n===null?t.style.removeProperty(e):t.style.setProperty(e,n,r?"important":"")}function $e(t,e,{bubbles:n=!1,cancelable:r=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(t,n,r,e),l}let z;function B(t){z=t}function ge(){if(!z)throw new Error("Function called outside component initialization");return z}function ke(t){ge().$$.on_mount.push(t)}function we(){const t=ge();return(e,n,{cancelable:r=!1}={})=>{const l=t.$$.callbacks[e];if(l){const s=$e(e,n,{cancelable:r});return l.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}const x=[],ie=[];let M=[];const ue=[],Ce=Promise.resolve();let ne=!1;function Ee(){ne||(ne=!0,Ce.then(ye))}function re(t){M.push(t)}const te=new Set;let j=0;function ye(){if(j!==0)return;const t=z;do{try{for(;j<x.length;){const e=x[j];j++,B(e),Ne(e.$$)}}catch(e){throw x.length=0,j=0,e}for(B(null),x.length=0,j=0;ie.length;)ie.pop()();for(let e=0;e<M.length;e+=1){const n=M[e];te.has(n)||(te.add(n),n())}M.length=0}while(x.length);for(;ue.length;)ue.pop()();ne=!1,te.clear(),B(t)}function Ne(t){if(t.fragment!==null){t.update(),P(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(re)}}function qe(t){const e=[],n=[];M.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),M=e}const Y=new Set;let Se;function H(t,e){t&&t.i&&(Y.delete(t),t.i(e))}function Z(t,e,n,r){if(t&&t.o){if(Y.has(t))return;Y.add(t),Se.c.push(()=>{Y.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function ee(t){t&&t.c()}function I(t,e,n,r){const{fragment:l,after_update:s}=t.$$;l&&l.m(e,n),r||re(()=>{const o=t.$$.on_mount.map(de).filter(pe);t.$$.on_destroy?t.$$.on_destroy.push(...o):P(o),t.$$.on_mount=[]}),s.forEach(re)}function Q(t,e){const n=t.$$;n.fragment!==null&&(qe(n.after_update),P(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Ue(t,e){t.$$.dirty[0]===-1&&(x.push(t),Ee(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function K(t,e,n,r,l,s,o,a=[-1]){const c=z;B(t);const i=t.$$={fragment:null,ctx:[],props:s,update:L,not_equal:l,bound:se(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(c?c.$$.context:[])),callbacks:se(),dirty:a,skip_bound:!1,root:e.target||c.$$.root};o&&o(i.root);let d=!1;if(i.ctx=n?n(t,e.props||{},(h,C,...y)=>{const $=y.length?y[0]:C;return i.ctx&&l(i.ctx[h],i.ctx[h]=$)&&(!i.skip_bound&&i.bound[h]&&i.bound[h]($),d&&Ue(t,h)),C}):[],i.update(),d=!0,P(i.before_update),i.fragment=r?r(i.ctx):!1,e.target){if(e.hydrate){const h=ve(e.target);i.fragment&&i.fragment.l(h),h.forEach(N)}else i.fragment&&i.fragment.c();e.intro&&H(t.$$.fragment),I(t,e.target,e.anchor,e.customElement),ye()}B(c)}class R{$destroy(){Q(this,1),this.$destroy=L}$on(e,n){if(!pe(n))return L;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const l=r.indexOf(n);l!==-1&&r.splice(l,1)}}$set(e){this.$$set&&!be(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ce(t,e,n){const r=t.slice();return r[6]=e[n],r}function Le(t){let e;return{c(){e=f("p"),e.textContent="No results found.",U(e,"color","darkgray")},m(n,r){q(n,e,r)},p:L,d(n){n&&N(e)}}}function Oe(t){let e,n=t[1],r=[];for(let l=0;l<n.length;l+=1)r[l]=ae(ce(t,n,l));return{c(){for(let l=0;l<r.length;l+=1)r[l].c();e=_e()},m(l,s){for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(l,s);q(l,e,s)},p(l,s){if(s&2){n=l[1];let o;for(o=0;o<n.length;o+=1){const a=ce(l,n,o);r[o]?r[o].p(a,s):(r[o]=ae(a),r[o].c(),r[o].m(e.parentNode,e))}for(;o<r.length;o+=1)r[o].d(1);r.length=n.length}},d(l){he(r,l),l&&N(e)}}}function ae(t){let e,n,r;return{c(){e=f("img"),oe(e.src,n=t[6].image)||m(e,"src",n),m(e,"alt",r=t[6].gameName)},m(l,s){q(l,e,s)},p(l,s){s&2&&!oe(e.src,n=l[6].image)&&m(e,"src",n),s&2&&r!==(r=l[6].gameName)&&m(e,"alt",r)},d(l){l&&N(e)}}}function Ae(t){let e,n,r,l,s,o,a,c,i,d,h,C,y,$,w,E,b;function p(_,O){return _[1].length>0?Oe:Le}let k=p(t),g=k(t);return{c(){e=f("div"),n=f("form"),r=f("div"),l=f("label"),l.textContent="🔎",s=v(),o=f("input"),a=v(),c=f("div"),i=f("button"),i.textContent="Submit",d=v(),h=f("button"),h.textContent="Query 1",C=v(),y=f("button"),y.textContent="Query 2",$=v(),g.c(),w=_e(),m(l,"for","search"),m(o,"type","text"),m(o,"class","form-control col-lg-9"),m(o,"id","search"),m(o,"name","search"),m(o,"placeholder"," search for games..."),o.required=!0,m(r,"class","searchform"),m(i,"type","submit"),m(i,"class","btn btn-primary"),U(i,"margin-right","1rem"),m(h,"id","btnq1"),m(h,"class","btn btn-primary"),U(h,"margin-right","0.5rem"),m(y,"id","btnq2"),m(y,"class","btn btn-primary"),U(y,"margin-left","0.5rem"),U(c,"display","flex"),m(e,"class","btn-container")},m(_,O){q(_,e,O),u(e,n),u(n,r),u(r,l),u(r,s),u(r,o),F(o,t[0]),u(n,a),u(n,c),u(c,i),u(c,d),u(c,h),u(c,C),u(c,y),q(_,$,O),g.m(_,O),q(_,w,O),E||(b=[A(o,"input",t[5]),A(h,"click",t[3]),A(y,"click",t[4]),A(n,"submit",t[2])],E=!0)},p(_,[O]){O&1&&o.value!==_[0]&&F(o,_[0]),k===(k=p(_))&&g?g.p(_,O):(g.d(1),g=k(_),g&&(g.c(),g.m(w.parentNode,w)))},i:L,o:L,d(_){_&&N(e),_&&N($),g.d(_),_&&N(w),E=!1,P(b)}}}function De(t,e,n){let r="",l=[];async function s(i){i.preventDefault();const d=new FormData;d.append("search",r);const h=await fetch("/api/games/search",{method:"POST",body:d});n(1,l=await h.json()),console.log(l)}async function o(i){i.preventDefault();const d=new FormData;d.append("search",r);const h=await fetch("/api/games/query1",{method:"POST",body:d});n(1,l=await h.json()),console.log(l)}async function a(i){i.preventDefault();const d=new FormData;d.append("search",r);const h=await fetch("/api/games/query2",{method:"POST",body:d});n(1,l=await h.json()),console.log(l)}function c(){r=this.value,n(0,r)}return[r,l,s,o,a,c]}class Fe extends R{constructor(e){super(),K(this,e,De,Ae,J,{})}}function Te(t){let e,n,r,l,s,o,a,c,i,d,h,C,y,$,w,E,b,p,k;return{c(){e=f("form"),n=f("label"),r=f("p"),r.textContent="username:",l=v(),s=f("input"),o=v(),a=f("label"),c=f("p"),c.textContent="name:",i=v(),d=f("input"),h=v(),C=f("label"),y=f("p"),y.textContent="email:",$=v(),w=f("input"),E=v(),b=f("button"),b.textContent="Sign Up",U(r,"display","inline"),U(r,"padding-right","1em"),m(s,"type","text"),s.required=!0,m(s,"class","svelte-l52ccu"),m(n,"class","svelte-l52ccu"),U(c,"display","inline"),U(c,"padding-right","1em"),m(d,"type","text"),d.required=!0,m(d,"class","svelte-l52ccu"),m(a,"class","svelte-l52ccu"),U(y,"display","inline"),U(y,"padding-right","1em"),m(w,"type","email"),w.required=!0,m(w,"class","svelte-l52ccu"),m(C,"class","svelte-l52ccu"),m(b,"type","submit"),m(b,"class","svelte-l52ccu"),m(e,"class","svelte-l52ccu")},m(g,_){q(g,e,_),u(e,n),u(n,r),u(n,l),u(n,s),F(s,t[0]),u(e,o),u(e,a),u(a,c),u(a,i),u(a,d),F(d,t[1]),u(e,h),u(e,C),u(C,y),u(C,$),u(C,w),F(w,t[2]),u(e,E),u(e,b),p||(k=[A(s,"input",t[4]),A(d,"input",t[5]),A(w,"input",t[6]),A(e,"submit",t[3])],p=!0)},p(g,[_]){_&1&&s.value!==g[0]&&F(s,g[0]),_&2&&d.value!==g[1]&&F(d,g[1]),_&4&&w.value!==g[2]&&F(w,g[2])},i:L,o:L,d(g){g&&N(e),p=!1,P(k)}}}function Pe(t,e,n){const r=we();let l="",s="",o="";function a(h){h.preventDefault(),r("submit",{username:l,realName:s,emailAddress:o})}function c(){l=this.value,n(0,l)}function i(){s=this.value,n(1,s)}function d(){o=this.value,n(2,o)}return[l,s,o,a,c,i,d]}class je extends R{constructor(e){super(),K(this,e,Pe,Te,J,{})}}function xe(t){let e,n,r,l,s,o,a,c,i;return{c(){e=f("form"),n=f("div"),r=f("label"),r.textContent="update username:",l=v(),s=f("input"),o=v(),a=f("button"),a.textContent="Update",m(r,"for","username"),m(r,"class","svelte-1l9cloy"),m(s,"type","text"),m(s,"id","username"),m(s,"name","username"),s.required=!0,m(s,"class","svelte-1l9cloy"),m(a,"type","submit"),m(a,"class","svelte-1l9cloy"),m(e,"class","svelte-1l9cloy")},m(d,h){q(d,e,h),u(e,n),u(n,r),u(n,l),u(n,s),F(s,t[0]),u(e,o),u(e,a),c||(i=[A(s,"input",t[3]),A(e,"submit",t[1])],c=!0)},p(d,[h]){h&1&&s.value!==d[0]&&F(s,d[0])},i:L,o:L,d(d){d&&N(e),c=!1,P(i)}}}function Me(t,e,n){let{username:r}=e,l=null;async function s(a){if(a.preventDefault(),n(0,l=a.target.username.value.trim()),!l){console.error("New username is required");return}(await fetch(`/api/users/${r}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)})).ok?(console.log(`Username updated to ${l}`),n(2,r=l)):console.error("Failed to update username")}function o(){l=this.value,n(0,l)}return t.$$set=a=>{"username"in a&&n(2,r=a.username)},[l,s,r,o]}class Be extends R{constructor(e){super(),K(this,e,Me,xe,J,{username:2})}}function He(t){let e,n,r;return{c(){e=f("button"),e.textContent="Log Out",m(e,"class","svelte-mpxy6q")},m(l,s){q(l,e,s),n||(r=A(e,"click",t[3]),n=!0)},p:L,d(l){l&&N(e),n=!1,r()}}}function Ie(t){let e;return{c(){e=f("button"),e.textContent="Log In",m(e,"type","submit"),m(e,"class","svelte-mpxy6q")},m(n,r){q(n,e,r)},p:L,d(n){n&&N(e)}}}function Qe(t){let e;return{c(){e=f("p"),e.innerHTML="<em>Username does not exist.</em>",U(e,"color","#BB342F"),U(e,"font-size","0.75rem")},m(n,r){q(n,e,r)},p:L,d(n){n&&N(e)}}}function ze(t){let e,n,r,l;return{c(){e=f("p"),n=T("✅ Logged in as "),r=f("em"),l=T(t[0])},m(s,o){q(s,e,o),u(e,n),u(e,r),u(r,l)},p(s,o){o&1&&X(l,s[0])},d(s){s&&N(e)}}}function Je(t){let e,n,r,l,s,o,a,c,i,d,h;function C(p,k){return p[1]==0||p[1]==-1?Ie:He}let y=C(t),$=y(t);function w(p,k){if(p[1]==1)return ze;if(p[1]==-1)return Qe}let E=w(t),b=E&&E(t);return c=new Be({props:{username:t[0]}}),{c(){e=f("form"),n=f("div"),n.innerHTML=`<label for="username" class="svelte-mpxy6q">username:</label> 
        <input type="text" id="username" name="username" required="" class="svelte-mpxy6q"/>`,r=v(),$.c(),l=v(),b&&b.c(),s=v(),o=f("h2"),o.textContent="Change Username",a=v(),ee(c.$$.fragment),m(e,"class","svelte-mpxy6q")},m(p,k){q(p,e,k),u(e,n),u(e,r),$.m(e,null),q(p,l,k),b&&b.m(p,k),q(p,s,k),q(p,o,k),q(p,a,k),I(c,p,k),i=!0,d||(h=A(e,"submit",t[2]),d=!0)},p(p,[k]){y===(y=C(p))&&$?$.p(p,k):($.d(1),$=y(p),$&&($.c(),$.m(e,null))),E===(E=w(p))&&b?b.p(p,k):(b&&b.d(1),b=E&&E(p),b&&(b.c(),b.m(s.parentNode,s)));const g={};k&1&&(g.username=p[0]),c.$set(g)},i(p){i||(H(c.$$.fragment,p),i=!0)},o(p){Z(c.$$.fragment,p),i=!1},d(p){p&&N(e),$.d(),p&&N(l),b&&b.d(p),p&&N(s),p&&N(o),p&&N(a),Q(c,p),d=!1,h()}}}function Ke(t,e,n){let r,l;function s(a){a.preventDefault();const c=a.target.username.value.trim();if(!c){console.error("Username is required");return}fetch(`/api/users/${c}`).then(i=>{i.ok?(console.log(`User ${c} found`),n(1,r=1),n(0,l=c)):(n(1,r=-1),console.error(`User ${c} not found`))}).catch(i=>console.error(i))}function o(){n(1,r=0),n(0,l=null)}return n(1,r=0),n(0,l=null),[l,r,s,o]}class Re extends R{constructor(e){super(),K(this,e,Ke,Je,J,{})}}function fe(t,e,n){const r=t.slice();return r[5]=e[n],r}function Ge(t){let e;return{c(){e=f("p"),e.textContent="No users found 😢",U(e,"color","darkgray")},m(n,r){q(n,e,r)},p:L,d(n){n&&N(e)}}}function Ve(t){let e,n,r,l,s=t[0],o=[];for(let a=0;a<s.length;a+=1)o[a]=me(fe(t,s,a));return{c(){e=f("table"),n=f("thead"),n.innerHTML=`<tr><th class="element svelte-y8491c">Username</th> 
            <th class="element svelte-y8491c">Name</th> 
            <th class="element svelte-y8491c">Email</th> 
            <th></th></tr>`,r=v(),l=f("tbody");for(let a=0;a<o.length;a+=1)o[a].c();m(e,"class","svelte-y8491c")},m(a,c){q(a,e,c),u(e,n),u(e,r),u(e,l);for(let i=0;i<o.length;i+=1)o[i]&&o[i].m(l,null)},p(a,c){if(c&5){s=a[0];let i;for(i=0;i<s.length;i+=1){const d=fe(a,s,i);o[i]?o[i].p(d,c):(o[i]=me(d),o[i].c(),o[i].m(l,null))}for(;i<o.length;i+=1)o[i].d(1);o.length=s.length}},d(a){a&&N(e),he(o,a)}}}function me(t){let e,n,r=t[5].username+"",l,s,o,a=t[5].realName+"",c,i,d,h=t[5].emailAddress+"",C,y,$,w,E,b,p;function k(){return t[3](t[5])}return{c(){e=f("tr"),n=f("td"),l=T(r),s=v(),o=f("td"),c=T(a),i=v(),d=f("td"),C=T(h),y=v(),$=f("td"),w=f("button"),w.textContent="❌",E=v(),m(n,"class","element svelte-y8491c"),m(o,"class","element svelte-y8491c"),m(d,"class","element svelte-y8491c")},m(g,_){q(g,e,_),u(e,n),u(n,l),u(e,s),u(e,o),u(o,c),u(e,i),u(e,d),u(d,C),u(e,y),u(e,$),u($,w),u(e,E),b||(p=A(w,"click",k),b=!0)},p(g,_){t=g,_&1&&r!==(r=t[5].username+"")&&X(l,r),_&1&&a!==(a=t[5].realName+"")&&X(c,a),_&1&&h!==(h=t[5].emailAddress+"")&&X(C,h)},d(g){g&&N(e),b=!1,p()}}}function We(t){let e,n,r,l,s,o,a,c,i,d,h,C,y,$,w,E,b,p,k,g,_,O;a=new je({}),a.$on("submit",t[1]);function le(S,V){return S[0].length>0?Ve:Ge}let G=le(t),D=G(t);return E=new Re({}),_=new Fe({}),{c(){e=f("main"),n=f("div"),n.innerHTML=`<h1>STEEM</h1> 
    <a href="/"><img style="display: inline-block;" id="logo" src="/logo.png" alt="bad-logo"/></a>`,r=v(),l=f("div"),s=f("h2"),s.textContent="Registration",o=v(),ee(a.$$.fragment),c=v(),i=f("div"),d=f("h2"),d.textContent="Users",h=v(),D.c(),C=v(),y=f("div"),$=f("h2"),$.textContent="Login",w=v(),ee(E.$$.fragment),b=v(),p=f("div"),k=f("h2"),k.textContent="Search",g=v(),ee(_.$$.fragment),m(n,"class","top-bar"),m(l,"class","card"),m(i,"class","card"),m(y,"class","card"),m(p,"class","card")},m(S,V){q(S,e,V),u(e,n),u(e,r),u(e,l),u(l,s),u(l,o),I(a,l,null),u(e,c),u(e,i),u(i,d),u(i,h),D.m(i,null),u(e,C),u(e,y),u(y,$),u(y,w),I(E,y,null),u(e,b),u(e,p),u(p,k),u(p,g),I(_,p,null),O=!0},p(S,[V]){G===(G=le(S))&&D?D.p(S,V):(D.d(1),D=G(S),D&&(D.c(),D.m(i,null)))},i(S){O||(H(a.$$.fragment,S),H(E.$$.fragment,S),H(_.$$.fragment,S),O=!0)},o(S){Z(a.$$.fragment,S),Z(E.$$.fragment,S),Z(_.$$.fragment,S),O=!1},d(S){S&&N(e),Q(a),D.d(),Q(E),Q(_)}}}function Xe(t,e,n){let r=[];ke(async()=>{const c=await fetch("/api/users");n(0,r=await c.json())});function l(c){fetch("/api/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c.detail)}).then(i=>i.text()).then(i=>{console.log(i),o()}).catch(i=>console.error(i))}function s(c){confirm("Are you sure you want to delete this user?")&&fetch("/api/users/"+c,{method:"DELETE"}).then(i=>{i.ok?n(0,r=r.filter(d=>d.username!==c)):console.error("Failed to delete user")}).catch(i=>console.error(i))}function o(){fetch("/api/users").then(c=>c.json()).then(c=>{n(0,r=c)}).catch(c=>console.error(c))}return o(),[r,l,s,c=>s(c.username)]}class Ye extends R{constructor(e){super(),K(this,e,Xe,We,J,{})}}new Ye({target:document.getElementById("app")});
